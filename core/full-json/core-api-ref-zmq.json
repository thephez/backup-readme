{
 "metadata": {
  "image": [],
  "title": "Dash ZeroMQ (ZMQ) Notifications",
  "description": "ZeroMQ is a lightweight wrapper around TCP connections, inter-process communication, and shared-memory, providing various message-oriented semantics such as publish/subscribe, request/reply, and push/pull.",
  "keywords": "",
  "robots": "index"
 },
 "mdx": {
  "altBody": "",
  "status": "rdmd"
 },
 "api": {
  "method": "get",
  "url": "",
  "auth": "required",
  "results": {
   "codes": [
    {
     "name": "",
     "code": "{}",
     "language": "json",
     "status": 200
    },
    {
     "name": "",
     "code": "{}",
     "language": "json",
     "status": 400
    }
   ]
  },
  "params": []
 },
 "next": {
  "description": "",
  "pages": [
   {
    "type": "doc",
    "icon": "file-text-o",
    "name": "Receiving ZMQ Notifications",
    "slug": "core-examples-receiving-zmq-notifications",
    "category": "Core Examples"
   }
  ]
 },
 "algolia": {
  "recordCount": 8,
  "publishPending": false,
  "translationFailure": false,
  "updatedAt": "2023-02-21T19:16:07.399Z"
 },
 "title": "ZeroMQ (ZMQ) Notifications",
 "icon": "",
 "updates": [],
 "type": "basic",
 "slug": "core-api-ref-zmq",
 "excerpt": "",
 "body": "# Overview\n\nZeroMQ is a lightweight wrapper around TCP connections, inter-process communication, and shared-memory, providing various message-oriented semantics such as publish/subscribe, request/reply, and push/pull.\n\nThe Dash Core daemon can be configured to act as a trusted \"border router\", implementing the dash wire protocol and relay, making consensus decisions, maintaining the local blockchain database, broadcasting locally generated transactions into the network, and providing a queryable RPC interface to interact on a polled basis for requesting blockchain related data. However, there exists only a limited service to notify external software of events like the arrival of new blocks or transactions.\n\nThe ZeroMQ facility implements a notification interface through a set of specific notifiers. Currently there are notifiers that publish blocks and transactions. This read-only facility requires only the connection of a corresponding ZeroMQ subscriber port in receiving software; it is not authenticated nor is there any two-way protocol involvement. Therefore, subscribers should validate the received data since it may be out of date, incomplete or even invalid.\n\nZeroMQ sockets are self-connecting and self-healing; that is, connections made between two endpoints will be automatically restored after an outage, and either end may be freely started or stopped in any order.\n\nBecause ZeroMQ is message oriented, subscribers receive transactions and blocks all-at-once and do not need to implement any sort of buffering or reassembly.\n\n# Available Notifications\n\nCurrently, the following notifications are supported:\n\n| Notification | Description |\n| - | - |\n| zmqpubhashblock | Block hash |\n| zmqpubhashchainlock | Hash of a block with a [ChainLock](core-guide-dash-features-chainlocks) |\n| zmqpubhashtx | Transaction hash (TXID) |\n| zmqpubhashtxlock | Hash of a transaction receiving and [InstantSend](core-guide-dash-features-instantsend) lock (TXID) |\n| zmqpubhashgovernancevote | Governance vote hash |\n| zmqpubhashgovernanceobject | Governance object hash |\n| zmqpubhashinstantsend<br>doublespend | Hash of a transaction attempting to double-spend an InstantSend-locked input |\n| zmqpubhashrecoveredsig | Hash of recovered signatures (recovered by LLMQs)\n| zmqpubrawblock | Raw [`block`](core-ref-p2p-network-data-messages#block) |\n| zmqpubrawchainlock | Raw [`block`](core-ref-p2p-network-data-messages#block) receiving a ChainLock |\n| zmqpubrawchainlocksig | Raw [`block`](core-ref-p2p-network-data-messages#block) with ChainLock signature ([`clsig`](core-ref-p2p-network-instantsend-messages#clsig)) concatenated |\n| zmqpubrawtx | Raw transaction ([`tx`](core-ref-transactions-raw-transaction-format))  |\n| zmqpubrawtxlock | Raw InstantSend transaction ([`tx`](core-ref-transactions-raw-transaction-format))  |\n| zmqpubrawtxlocksig | Raw InstantSend transaction ([`tx`](core-ref-transactions-raw-transaction-format)) with InstantSend lock signature ([`islock`](core-ref-p2p-network-instantsend-messages#islock)) concatenated |\n| zmqpubrawgovernancevote | Raw governance vote ([`govobjvote`](core-ref-p2p-network-governance-messages#govobjvote)) |\n| zmqpubrawgovernanceobject | Raw governance object ([`govobject`](core-ref-p2p-network-governance-messages#govobj)) |\n| zmqpubrawinstantsend<br>doublespend | Raw transaction ([`tx`](core-ref-transactions-raw-transaction-format)) attempting to double-spend an InstantSend-locked input |\n| zmqpubrawrecoveredsig | Raw recovered signatures (recovered by LLMQs)\n\n# High Water Mark\n\nThe option to set the PUB socket's outbound message [high water mark](https://zeromq.org/socket-api/#high-water-mark) (SNDHWM) may be set individually for each notification:\n\n| High water mark name | Description |\n| - | - |\n| zmqpubhashtxhwm | Transaction hash (TXID) high water mark |\n| zmqpubhashblockhwm | Block hash high water mark |\n| zmqpubhashchainlockhwm | Hash of a block with a [ChainLock](core-guide-dash-features-chainlocks) high water mark |\n| zmqpubhashtxlockhwm | Hash of a transaction receiving and [InstantSend](core-guide-dash-features-instantsend) lock (TXID) high water mark |\n| zmqpubhashgovernancevotehwm | Governance vote hash high water mark |\n| zmqpubhashgovernanceobjecthwm | Governance object hash high water mark |\n| zmqpubhashinstantsenddoublespendhwm | Hash of a transaction attempting to double-spend an InstantSend-locked input high water mark |\n| zmqpubhashrecoveredsighwm | Hash of recovered signatures (recovered by LLMQs) high water mark |\n| zmqpubrawblockhwm | Raw [`block`](core-ref-p2p-network-data-messages#block) high water mark |\n| zmqpubrawtxhwm | Raw transaction ([`tx`](core-ref-transactions-raw-transaction-format))  high water mark |\n| zmqpubrawchainlockhwm | Raw [`block`](core-ref-p2p-network-data-messages#block) receiving a ChainLock high water mark |\n| zmqpubrawchainlocksighwm | Raw [`block`](core-ref-p2p-network-data-messages#block) with ChainLock signature ([`clsig`](core-ref-p2p-network-instantsend-messages#clsig)) concatenated high water mark |\n| zmqpubrawtxlockhwm | Raw InstantSend transaction ([`tx`](core-ref-transactions-raw-transaction-format)) high water mark |\n| zmqpubrawtxlocksighwm | Raw InstantSend transaction ([`tx`](core-ref-transactions-raw-transaction-format)) with InstantSend lock signature ([`islock`](core-ref-p2p-network-instantsend-messages#islock)) concatenated high water mark |\n| zmqpubrawgovernancevotehwm | Raw governance vote ([`govobjvote`](core-ref-p2p-network-governance-messages#govobjvote)) high water mark |\n| zmqpubrawgovernanceobjecthwm | Raw governance object ([`govobject`](core-ref-p2p-network-governance-messages#govobj)) high water mark |\n| zmqpubrawinstantsenddoublespendhwm | Raw transaction ([`tx`](core-ref-transactions-raw-transaction-format)) attempting to double-spend an InstantSend-locked input high water mark |\n| zmqpubrawrecoveredsighwm |  Raw recovered signatures (recovered by LLMQs) high water mark |\n\n# Dash Core Configuration\n\nZMQ notifications can be enabled via either command line arguments or the configuration file (typically `dash.conf`).\n\n## Command Line\n\n```\n$ dashd -zmqpubhashtx=tcp://127.0.0.1:28332 \\\n        -zmqpubrawtx=ipc:///tmp/dashd.tx.raw\n```\n\n## Config File\n\n```\n# ZMQ\nzmqpubhashtx=tcp://0.0.0.0:28332\nzmqpubrawtx=tcp://0.0.0.0:28332\n```\n\n# Usage\nThe socket type is PUB and the address must be a valid ZeroMQ socket address. Each PUB notification has a topic and body, where the header corresponds to the notification type. For instance, for the notification `-zmqpubhashtx` the topic is `hashtx` (no null terminator) and the body is the hexadecimal transaction hash (32 bytes).\n\n> \ud83d\udcd8\n>\n> The same address can be used in more than one notification.\n\n\nZeroMQ endpoint specifiers for TCP (and others) are documented in the [ZeroMQ API](http://api.zeromq.org/4-0:_start).\n\nClient side, then, the ZeroMQ subscriber socket must have the `ZMQ_SUBSCRIBE` option set to one or either of these prefixes (for instance, just `hash`); without doing so will result in no messages arriving. Please see the Dash Core repository for a [working example](https://github.com/dashpay/dash/blob/master/contrib/zmq/zmq_sub3.4.py).\n\n# Notes\n\nFrom the perspective of dashd, the ZeroMQ socket is write-only; PUB sockets don't even have a read function. Thus, there is no state introduced into dashd directly. Furthermore, no information is broadcast that wasn't already received from the public P2P network.\n\nNo authentication or authorization is done on connecting clients; it is assumed that the ZeroMQ port is exposed only to trusted entities, using other means such as firewalling.\n\nNote that when the block chain tip changes, a reorganisation may occur and just the tip will be notified. It is up to the subscriber to retrieve the chain from the last known block to the new tip.\n\nThere are several possibilities that ZMQ notification can get lost during transmission depending on the communication type your are using. Dashd appends an up-counting sequence number to each notification which allows listeners to detect lost notifications.",
 "order": 3,
 "isReference": false,
 "deprecated": false,
 "hidden": false,
 "sync_unique": "",
 "link_url": "",
 "link_external": false,
 "reusableContent": [],
 "previousSlug": "",
 "slugUpdatedAt": "2021-01-06T16:33:43.315Z",
 "revision": 2,
 "_id": "63f5176df91c7700118e7816",
 "pendingAlgoliaPublish": false,
 "createdAt": "2020-05-13T01:55:09.291Z",
 "updatedAt": "2023-01-12T20:52:22.928Z",
 "user": "62b2101422da70001ee51d95",
 "category": "63f5176df91c7700118e77a1",
 "project": "5daf2e65f4109c0040fd51e1",
 "version": "63f5176df91c7700118e7825",
 "__v": 3,
 "parentDoc": null,
 "isApi": false,
 "id": "63f5176df91c7700118e7816",
 "body_html": "<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"overview\"></div><div class=\"heading-text\"><div id=\"section-overview\" class=\"heading-anchor_backwardsCompatibility\"></div>Overview</div><a aria-label=\"Skip link to Overview\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#overview\"></a></h1>\n<p>ZeroMQ is a lightweight wrapper around TCP connections, inter-process communication, and shared-memory, providing various message-oriented semantics such as publish/subscribe, request/reply, and push/pull.</p>\n<p>The Dash Core daemon can be configured to act as a trusted &quot;border router&quot;, implementing the dash wire protocol and relay, making consensus decisions, maintaining the local blockchain database, broadcasting locally generated transactions into the network, and providing a queryable RPC interface to interact on a polled basis for requesting blockchain related data. However, there exists only a limited service to notify external software of events like the arrival of new blocks or transactions.</p>\n<p>The ZeroMQ facility implements a notification interface through a set of specific notifiers. Currently there are notifiers that publish blocks and transactions. This read-only facility requires only the connection of a corresponding ZeroMQ subscriber port in receiving software; it is not authenticated nor is there any two-way protocol involvement. Therefore, subscribers should validate the received data since it may be out of date, incomplete or even invalid.</p>\n<p>ZeroMQ sockets are self-connecting and self-healing; that is, connections made between two endpoints will be automatically restored after an outage, and either end may be freely started or stopped in any order.</p>\n<p>Because ZeroMQ is message oriented, subscribers receive transactions and blocks all-at-once and do not need to implement any sort of buffering or reassembly.</p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"available-notifications\"></div><div class=\"heading-text\"><div id=\"section-available-notifications\" class=\"heading-anchor_backwardsCompatibility\"></div>Available Notifications</div><a aria-label=\"Skip link to Available Notifications\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#available-notifications\"></a></h1>\n<p>Currently, the following notifications are supported:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Notification</th><th>Description</th></tr></thead><tbody><tr><td>zmqpubhashblock</td><td>Block hash</td></tr><tr><td>zmqpubhashchainlock</td><td>Hash of a block with a <a href=\"core-guide-dash-features-chainlocks\" target=\"\" title=\"\">ChainLock</a></td></tr><tr><td>zmqpubhashtx</td><td>Transaction hash (TXID)</td></tr><tr><td>zmqpubhashtxlock</td><td>Hash of a transaction receiving and <a href=\"core-guide-dash-features-instantsend\" target=\"\" title=\"\">InstantSend</a> lock (TXID)</td></tr><tr><td>zmqpubhashgovernancevote</td><td>Governance vote hash</td></tr><tr><td>zmqpubhashgovernanceobject</td><td>Governance object hash</td></tr><tr><td>zmqpubhashinstantsend<br/>doublespend</td><td>Hash of a transaction attempting to double-spend an InstantSend-locked input</td></tr><tr><td>zmqpubhashrecoveredsig</td><td>Hash of recovered signatures (recovered by LLMQs)</td></tr><tr><td>zmqpubrawblock</td><td>Raw <a href=\"core-ref-p2p-network-data-messages#block\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">block</code></a></td></tr><tr><td>zmqpubrawchainlock</td><td>Raw <a href=\"core-ref-p2p-network-data-messages#block\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">block</code></a> receiving a ChainLock</td></tr><tr><td>zmqpubrawchainlocksig</td><td>Raw <a href=\"core-ref-p2p-network-data-messages#block\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">block</code></a> with ChainLock signature (<a href=\"core-ref-p2p-network-instantsend-messages#clsig\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">clsig</code></a>) concatenated</td></tr><tr><td>zmqpubrawtx</td><td>Raw transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>)</td></tr><tr><td>zmqpubrawtxlock</td><td>Raw InstantSend transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>)</td></tr><tr><td>zmqpubrawtxlocksig</td><td>Raw InstantSend transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>) with InstantSend lock signature (<a href=\"core-ref-p2p-network-instantsend-messages#islock\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">islock</code></a>) concatenated</td></tr><tr><td>zmqpubrawgovernancevote</td><td>Raw governance vote (<a href=\"core-ref-p2p-network-governance-messages#govobjvote\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">govobjvote</code></a>)</td></tr><tr><td>zmqpubrawgovernanceobject</td><td>Raw governance object (<a href=\"core-ref-p2p-network-governance-messages#govobj\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">govobject</code></a>)</td></tr><tr><td>zmqpubrawinstantsend<br/>doublespend</td><td>Raw transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>) attempting to double-spend an InstantSend-locked input</td></tr><tr><td>zmqpubrawrecoveredsig</td><td>Raw recovered signatures (recovered by LLMQs)</td></tr></tbody></table></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"high-water-mark\"></div><div class=\"heading-text\"><div id=\"section-high-water-mark\" class=\"heading-anchor_backwardsCompatibility\"></div>High Water Mark</div><a aria-label=\"Skip link to High Water Mark\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#high-water-mark\"></a></h1>\n<p>The option to set the PUB socket&#x27;s outbound message <a href=\"https://zeromq.org/socket-api/#high-water-mark\" target=\"\" title=\"\">high water mark</a> (SNDHWM) may be set individually for each notification:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>High water mark name</th><th>Description</th></tr></thead><tbody><tr><td>zmqpubhashtxhwm</td><td>Transaction hash (TXID) high water mark</td></tr><tr><td>zmqpubhashblockhwm</td><td>Block hash high water mark</td></tr><tr><td>zmqpubhashchainlockhwm</td><td>Hash of a block with a <a href=\"core-guide-dash-features-chainlocks\" target=\"\" title=\"\">ChainLock</a> high water mark</td></tr><tr><td>zmqpubhashtxlockhwm</td><td>Hash of a transaction receiving and <a href=\"core-guide-dash-features-instantsend\" target=\"\" title=\"\">InstantSend</a> lock (TXID) high water mark</td></tr><tr><td>zmqpubhashgovernancevotehwm</td><td>Governance vote hash high water mark</td></tr><tr><td>zmqpubhashgovernanceobjecthwm</td><td>Governance object hash high water mark</td></tr><tr><td>zmqpubhashinstantsenddoublespendhwm</td><td>Hash of a transaction attempting to double-spend an InstantSend-locked input high water mark</td></tr><tr><td>zmqpubhashrecoveredsighwm</td><td>Hash of recovered signatures (recovered by LLMQs) high water mark</td></tr><tr><td>zmqpubrawblockhwm</td><td>Raw <a href=\"core-ref-p2p-network-data-messages#block\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">block</code></a> high water mark</td></tr><tr><td>zmqpubrawtxhwm</td><td>Raw transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>)  high water mark</td></tr><tr><td>zmqpubrawchainlockhwm</td><td>Raw <a href=\"core-ref-p2p-network-data-messages#block\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">block</code></a> receiving a ChainLock high water mark</td></tr><tr><td>zmqpubrawchainlocksighwm</td><td>Raw <a href=\"core-ref-p2p-network-data-messages#block\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">block</code></a> with ChainLock signature (<a href=\"core-ref-p2p-network-instantsend-messages#clsig\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">clsig</code></a>) concatenated high water mark</td></tr><tr><td>zmqpubrawtxlockhwm</td><td>Raw InstantSend transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>) high water mark</td></tr><tr><td>zmqpubrawtxlocksighwm</td><td>Raw InstantSend transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>) with InstantSend lock signature (<a href=\"core-ref-p2p-network-instantsend-messages#islock\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">islock</code></a>) concatenated high water mark</td></tr><tr><td>zmqpubrawgovernancevotehwm</td><td>Raw governance vote (<a href=\"core-ref-p2p-network-governance-messages#govobjvote\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">govobjvote</code></a>) high water mark</td></tr><tr><td>zmqpubrawgovernanceobjecthwm</td><td>Raw governance object (<a href=\"core-ref-p2p-network-governance-messages#govobj\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">govobject</code></a>) high water mark</td></tr><tr><td>zmqpubrawinstantsenddoublespendhwm</td><td>Raw transaction (<a href=\"core-ref-transactions-raw-transaction-format\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code></a>) attempting to double-spend an InstantSend-locked input high water mark</td></tr><tr><td>zmqpubrawrecoveredsighwm</td><td>Raw recovered signatures (recovered by LLMQs) high water mark</td></tr></tbody></table></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dash-core-configuration\"></div><div class=\"heading-text\"><div id=\"section-dash-core-configuration\" class=\"heading-anchor_backwardsCompatibility\"></div>Dash Core Configuration</div><a aria-label=\"Skip link to Dash Core Configuration\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dash-core-configuration\"></a></h1>\n<p>ZMQ notifications can be enabled via either command line arguments or the configuration file (typically <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dash.conf</code>).</p>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"command-line\"></div><div class=\"heading-text\"><div id=\"section-command-line\" class=\"heading-anchor_backwardsCompatibility\"></div>Command Line</div><a aria-label=\"Skip link to Command Line\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#command-line\"></a></h2>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">$ dashd -zmqpubhashtx=tcp://127.0.0.1:28332 \\\n        -zmqpubrawtx=ipc:///tmp/dashd.tx.raw\n</code></pre>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"config-file\"></div><div class=\"heading-text\"><div id=\"section-config-file\" class=\"heading-anchor_backwardsCompatibility\"></div>Config File</div><a aria-label=\"Skip link to Config File\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#config-file\"></a></h2>\n<pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\"># ZMQ\nzmqpubhashtx=tcp://0.0.0.0:28332\nzmqpubrawtx=tcp://0.0.0.0:28332\n</code></pre>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"usage\"></div><div class=\"heading-text\"><div id=\"section-usage\" class=\"heading-anchor_backwardsCompatibility\"></div>Usage</div><a aria-label=\"Skip link to Usage\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#usage\"></a></h1>\n<p>The socket type is PUB and the address must be a valid ZeroMQ socket address. Each PUB notification has a topic and body, where the header corresponds to the notification type. For instance, for the notification <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">-zmqpubhashtx</code> the topic is <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">hashtx</code> (no null terminator) and the body is the hexadecimal transaction hash (32 bytes).</p>\n<blockquote class=\"callout callout_info\" theme=\"\ud83d\udcd8\"><h2 class=\"callout-heading empty\"><span class=\"callout-icon\">\ud83d\udcd8</span></h2><p>The same address can be used in more than one notification.</p></blockquote>\n<p>ZeroMQ endpoint specifiers for TCP (and others) are documented in the <a href=\"http://api.zeromq.org/4-0:_start\" target=\"\" title=\"\">ZeroMQ API</a>.</p>\n<p>Client side, then, the ZeroMQ subscriber socket must have the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ZMQ_SUBSCRIBE</code> option set to one or either of these prefixes (for instance, just <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">hash</code>); without doing so will result in no messages arriving. Please see the Dash Core repository for a <a href=\"https://github.com/dashpay/dash/blob/master/contrib/zmq/zmq_sub3.4.py\" target=\"\" title=\"\">working example</a>.</p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"notes\"></div><div class=\"heading-text\"><div id=\"section-notes\" class=\"heading-anchor_backwardsCompatibility\"></div>Notes</div><a aria-label=\"Skip link to Notes\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#notes\"></a></h1>\n<p>From the perspective of dashd, the ZeroMQ socket is write-only; PUB sockets don&#x27;t even have a read function. Thus, there is no state introduced into dashd directly. Furthermore, no information is broadcast that wasn&#x27;t already received from the public P2P network.</p>\n<p>No authentication or authorization is done on connecting clients; it is assumed that the ZeroMQ port is exposed only to trusted entities, using other means such as firewalling.</p>\n<p>Note that when the block chain tip changes, a reorganisation may occur and just the tip will be notified. It is up to the subscriber to retrieve the chain from the last known block to the new tip.</p>\n<p>There are several possibilities that ZMQ notification can get lost during transmission depending on the communication type your are using. Dashd appends an up-counting sequence number to each notification which allows listeners to detect lost notifications.</p>"
}