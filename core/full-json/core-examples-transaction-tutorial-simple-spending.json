{
 "metadata": {
  "image": [],
  "title": "Simple Spending",
  "description": "Dash Core provides several RPCs which handle all the details of spending, including creating a change output and paying an appropriate transaction fee.",
  "keywords": "",
  "robots": "index"
 },
 "api": {
  "method": "get",
  "url": "",
  "auth": "required",
  "results": {
   "codes": [
    {
     "status": 200,
     "language": "json",
     "code": "{}",
     "name": ""
    },
    {
     "status": 400,
     "language": "json",
     "code": "{}",
     "name": ""
    }
   ]
  },
  "params": []
 },
 "next": {
  "description": "",
  "pages": [
   {
    "type": "doc",
    "icon": "file-text-o",
    "name": "Simple Raw Transaction",
    "slug": "core-examples-transaction-tutorial-simple-raw-transaction",
    "category": "Core Examples"
   }
  ]
 },
 "algolia": {
  "recordCount": 8,
  "publishPending": false,
  "translationFailure": false,
  "updatedAt": "2023-02-21T19:15:49.970Z"
 },
 "title": "Simple Spending",
 "icon": "",
 "updates": [],
 "type": "basic",
 "slug": "core-examples-transaction-tutorial-simple-spending",
 "excerpt": "",
 "body": "Dash Core provides several RPCs which handle all the details of spending, including creating a <<glossary:change output>> and paying an appropriate <<glossary:transaction fee>>. Even advanced users should use these RPCs whenever possible to decrease the chance that <<glossary:duffs>> will be lost by mistake.\n\n# 1. Get new address\n\nGet a new Dash <<glossary:address>> and save it in the shell variable `$NEW_ADDRESS`.\n\n``` bash\n> dash-cli -regtest getnewaddress\nyLp6ZJueuigiF4s9E1Pv8tEunDPEsjyQfd\n\n> NEW_ADDRESS=yLp6ZJueuigiF4s9E1Pv8tEunDPEsjyQfd\n```\n\n# 2. Send to address\n\nSend 10 dash to the address using the [`sendtoaddress` RPC](core-api-ref-remote-procedure-calls-wallet#sendtoaddress).  The returned hex string is the transaction identifier (<<glossary:TXID>>).\n\nThe [`sendtoaddress` RPC](core-api-ref-remote-procedure-calls-wallet#sendtoaddress) automatically selects an <<glossary:unspent transaction output>> (UTXO) from which to spend the duffs. In this case, it withdrew the duffs from our only available UTXO, the <<glossary:coinbase transaction>> for <<glossary:block>> #1 which matured with the creation of block #101.\n\n``` bash\n> dash-cli -regtest sendtoaddress $NEW_ADDRESS 10.00\nc7e5ae1240fdd83bb94c94a93816ed2ab7bcb56ec3ff8a9725c5c1e0482684ea\n```\n\n# 3. List unspent outputs\n\n## 3a. Confirmed outputs only\n\nUse the [`listunspent` RPC](core-api-ref-remote-procedure-calls-wallet#listunspent) to display the UTXOs belonging to this <<glossary:wallet>>. The list is empty because it defaults to only showing confirmed UTXOs and we just spent our only confirmed UTXO.\n\n``` bash\n> dash-cli -regtest listunspent\n[\n]\n```\n\n## 3b. All outputs\n\nRe-running the [`listunspent` RPC](core-api-ref-remote-procedure-calls-wallet#listunspent) with the argument \"0\" to also display each <<glossary:unconfirmed transaction>> shows that we have two UTXOs, both with the same <<glossary:TXID>>. The first UTXO shown is a change output that `sendtoaddress` created using a new address from the key pool. The second UTXO shown is the spend to the address we provided. If we had spent those duffs to someone else, that second transaction would not be displayed in our list of UTXOs.\n\n``` bash\n> dash-cli -regtest listunspent 0\n```\n\n``` json\n[  \n   {  \n      \"txid\":\"c7e5ae1240fdd83bb94c94a93816ed2ab7bcb56ec3ff8a9725c5c1e0482684ea\",\n      \"vout\":0,\n      \"address\":\"yLp6ZJueuigiF4s9E1Pv8tEunDPEsjyQfd\",\n      \"account\":\"\",\n      \"scriptPubKey\":\"76a914056b1fe57914236149feb21dcbc6b86f4bdd9f4988ac\",\n      \"amount\":10.00000000,\n      \"confirmations\":0,\n      \"ps_rounds\":-2,\n      \"spendable\":true,\n      \"solvable\":true\n   },\n   {  \n      \"txid\":\"c7e5ae1240fdd83bb94c94a93816ed2ab7bcb56ec3ff8a9725c5c1e0482684ea\",\n      \"vout\":1,\n      \"address\":\"yeP6Tw2uW4nWAFWRytw8TyshErTq59dUkN\",\n      \"scriptPubKey\":\"76a914c622e98a6ccf34d02620612f58f20a50061cf4b188ac\",\n      \"amount\":490.00000000,\n      \"confirmations\":0,\n      \"ps_rounds\":-2,\n      \"spendable\":true,\n      \"solvable\":true\n   }\n]\n```\n\n# 4. Mine block\n\nCreate a new block to confirm the transaction above (takes less than a second) and clear the shell variable.\n\n``` bash\n> dash-cli -regtest generate 1\n\n> unset NEW_ADDRESS\n```\n\n# Simple Spending Script\n\nShell script to run the previous example (available [here](https://gist.github.com/dash-docs/f40bddfc0844ec0d66d196720dc936f8#file-regtest_transaction_simple_spending_example-sh)):\n\n``` shell\n#!/bin/bash\n\n# Set RPCUSER and RPCPWD to the username and password configure in dash.conf\nRPCUSER=\"user\"\nRPCPWD=\"pass\"\nREGTEST_CMD=\"dash-cli -regtest -rpcuser=$RPCUSER -rpcpassword=$RPCPWD\"\n\n# SIMPLE SPENDING EXAMPLE\n# -----------------------\n\nBLOCKTOGEN=101\nprintf \"\\nGenerating %s block(s)...\\n\" $BLOCKTOGEN\nCOMMAND=\"$REGTEST_CMD generate $BLOCKTOGEN\"\necho $COMMAND\nGENERATED=$($COMMAND)\necho \"Generated $BLOCKTOGEN block(s)\"\n\nprintf \"\\nChecking balance...\\n\"\nCOMMAND=\"$REGTEST_CMD getbalance\"\necho $COMMAND\nBALANCE=$($COMMAND)\necho \"Balance is: \" $BALANCE\n\nprintf \"\\nGetting new address...\\n\"\nCOMMAND=\"$REGTEST_CMD getnewaddress\"\necho $COMMAND\nNEW_ADDRESS=$($COMMAND)\necho \"New address is: \" $NEW_ADDRESS\n\nprintf \"\\nSending to address...\\n\"\nCOMMAND=\"$REGTEST_CMD sendtoaddress $NEW_ADDRESS 10.00\"\necho $COMMAND\nTXID=$($COMMAND)\necho \"Transaction ID (TXID) is: \" $TXID\n\nprintf \"\\nList unspent...\\n\"\nCOMMAND=\"$REGTEST_CMD listunspent\"\necho $COMMAND\nUNSPENT=$($COMMAND)\necho \"Unspent (excluding unconfirmed): \" $UNSPENT\n\nprintf \"\\nList unspent (unconfirmed)...\\n\"\nCOMMAND=\"$REGTEST_CMD listunspent 0\"\necho $COMMAND\nUNSPENT=$($COMMAND)\necho \"Unspent (including unconfirmed): \" $UNSPENT\n\n\nBLOCKTOGEN=1\nprintf \"\\nGenerating %s block(s) to confirm...\\n\" $BLOCKTOGEN\nCOMMAND=\"$REGTEST_CMD generate $BLOCKTOGEN\"\necho $COMMAND\nGENERATED=$($COMMAND)\necho \"Generated $BLOCKTOGEN block(s)\"\n\nprintf \"\\nList unspent...\\n\"\nCOMMAND=\"$REGTEST_CMD listunspent\"\necho $COMMAND\nUNSPENT=$($COMMAND)\necho \"Unspent (excluding unconfirmed): \" $UNSPENT\n\nunset REGTEST_CMD\nunset BLOCKTOGEN\nunset COMMAND\nunset GENERATED\nunset BALANCE\nunset NEW_ADDRESS\nunset TXID\nunset UNSPENT\n```",
 "order": 0,
 "isReference": false,
 "deprecated": false,
 "hidden": false,
 "sync_unique": "",
 "link_url": "",
 "link_external": false,
 "reusableContent": [],
 "previousSlug": "",
 "slugUpdatedAt": "2022-09-20T18:32:50.829Z",
 "revision": 7,
 "_id": "63f5176df91c7700118e77d6",
 "version": "63f5176df91c7700118e7825",
 "updatedAt": "2023-01-16T14:42:53.161Z",
 "createdAt": "2019-10-24T15:51:07.867Z",
 "project": "5daf2e65f4109c0040fd51e1",
 "user": "5b8400d7185d5e00036dcc3b",
 "parentDoc": "63f5176df91c7700118e77d5",
 "category": "63f5176df91c7700118e77a0",
 "__v": 1,
 "pendingAlgoliaPublish": false,
 "isApi": false,
 "id": "63f5176df91c7700118e77d6",
 "body_html": "Dash Core provides several RPCs which handle all the details of spending, including creating a <<glossary:change output>> and paying an appropriate <<glossary:transaction fee>>. Even advanced users should use these RPCs whenever possible to decrease the chance that <<glossary:duffs>> will be lost by mistake.\n\n# 1. Get new address\n\nGet a new Dash <<glossary:address>> and save it in the shell variable `$NEW_ADDRESS`.\n\n``` bash\n> dash-cli -regtest getnewaddress\nyLp6ZJueuigiF4s9E1Pv8tEunDPEsjyQfd\n\n> NEW_ADDRESS=yLp6ZJueuigiF4s9E1Pv8tEunDPEsjyQfd\n```\n\n# 2. Send to address\n\nSend 10 dash to the address using the [`sendtoaddress` RPC](core-api-ref-remote-procedure-calls-wallet#sendtoaddress).  The returned hex string is the transaction identifier (<<glossary:TXID>>).\n\nThe [`sendtoaddress` RPC](core-api-ref-remote-procedure-calls-wallet#sendtoaddress) automatically selects an <<glossary:unspent transaction output>> (UTXO) from which to spend the duffs. In this case, it withdrew the duffs from our only available UTXO, the <<glossary:coinbase transaction>> for <<glossary:block>> #1 which matured with the creation of block #101.\n\n``` bash\n> dash-cli -regtest sendtoaddress $NEW_ADDRESS 10.00\nc7e5ae1240fdd83bb94c94a93816ed2ab7bcb56ec3ff8a9725c5c1e0482684ea\n```\n\n# 3. List unspent outputs\n\n## 3a. Confirmed outputs only\n\nUse the [`listunspent` RPC](core-api-ref-remote-procedure-calls-wallet#listunspent) to display the UTXOs belonging to this <<glossary:wallet>>. The list is empty because it defaults to only showing confirmed UTXOs and we just spent our only confirmed UTXO.\n\n``` bash\n> dash-cli -regtest listunspent\n[\n]\n```\n\n## 3b. All outputs\n\nRe-running the [`listunspent` RPC](core-api-ref-remote-procedure-calls-wallet#listunspent) with the argument \"0\" to also display each <<glossary:unconfirmed transaction>> shows that we have two UTXOs, both with the same <<glossary:TXID>>. The first UTXO shown is a change output that `sendtoaddress` created using a new address from the key pool. The second UTXO shown is the spend to the address we provided. If we had spent those duffs to someone else, that second transaction would not be displayed in our list of UTXOs.\n\n``` bash\n> dash-cli -regtest listunspent 0\n```\n\n``` json\n[  \n   {  \n      \"txid\":\"c7e5ae1240fdd83bb94c94a93816ed2ab7bcb56ec3ff8a9725c5c1e0482684ea\",\n      \"vout\":0,\n      \"address\":\"yLp6ZJueuigiF4s9E1Pv8tEunDPEsjyQfd\",\n      \"account\":\"\",\n      \"scriptPubKey\":\"76a914056b1fe57914236149feb21dcbc6b86f4bdd9f4988ac\",\n      \"amount\":10.00000000,\n      \"confirmations\":0,\n      \"ps_rounds\":-2,\n      \"spendable\":true,\n      \"solvable\":true\n   },\n   {  \n      \"txid\":\"c7e5ae1240fdd83bb94c94a93816ed2ab7bcb56ec3ff8a9725c5c1e0482684ea\",\n      \"vout\":1,\n      \"address\":\"yeP6Tw2uW4nWAFWRytw8TyshErTq59dUkN\",\n      \"scriptPubKey\":\"76a914c622e98a6ccf34d02620612f58f20a50061cf4b188ac\",\n      \"amount\":490.00000000,\n      \"confirmations\":0,\n      \"ps_rounds\":-2,\n      \"spendable\":true,\n      \"solvable\":true\n   }\n]\n```\n\n# 4. Mine block\n\nCreate a new block to confirm the transaction above (takes less than a second) and clear the shell variable.\n\n``` bash\n> dash-cli -regtest generate 1\n\n> unset NEW_ADDRESS\n```\n\n# Simple Spending Script\n\nShell script to run the previous example (available [here](https://gist.github.com/dash-docs/f40bddfc0844ec0d66d196720dc936f8#file-regtest_transaction_simple_spending_example-sh)):\n\n``` shell\n#!/bin/bash\n\n# Set RPCUSER and RPCPWD to the username and password configure in dash.conf\nRPCUSER=\"user\"\nRPCPWD=\"pass\"\nREGTEST_CMD=\"dash-cli -regtest -rpcuser=$RPCUSER -rpcpassword=$RPCPWD\"\n\n# SIMPLE SPENDING EXAMPLE\n# -----------------------\n\nBLOCKTOGEN=101\nprintf \"\\nGenerating %s block(s)...\\n\" $BLOCKTOGEN\nCOMMAND=\"$REGTEST_CMD generate $BLOCKTOGEN\"\necho $COMMAND\nGENERATED=$($COMMAND)\necho \"Generated $BLOCKTOGEN block(s)\"\n\nprintf \"\\nChecking balance...\\n\"\nCOMMAND=\"$REGTEST_CMD getbalance\"\necho $COMMAND\nBALANCE=$($COMMAND)\necho \"Balance is: \" $BALANCE\n\nprintf \"\\nGetting new address...\\n\"\nCOMMAND=\"$REGTEST_CMD getnewaddress\"\necho $COMMAND\nNEW_ADDRESS=$($COMMAND)\necho \"New address is: \" $NEW_ADDRESS\n\nprintf \"\\nSending to address...\\n\"\nCOMMAND=\"$REGTEST_CMD sendtoaddress $NEW_ADDRESS 10.00\"\necho $COMMAND\nTXID=$($COMMAND)\necho \"Transaction ID (TXID) is: \" $TXID\n\nprintf \"\\nList unspent...\\n\"\nCOMMAND=\"$REGTEST_CMD listunspent\"\necho $COMMAND\nUNSPENT=$($COMMAND)\necho \"Unspent (excluding unconfirmed): \" $UNSPENT\n\nprintf \"\\nList unspent (unconfirmed)...\\n\"\nCOMMAND=\"$REGTEST_CMD listunspent 0\"\necho $COMMAND\nUNSPENT=$($COMMAND)\necho \"Unspent (including unconfirmed): \" $UNSPENT\n\n\nBLOCKTOGEN=1\nprintf \"\\nGenerating %s block(s) to confirm...\\n\" $BLOCKTOGEN\nCOMMAND=\"$REGTEST_CMD generate $BLOCKTOGEN\"\necho $COMMAND\nGENERATED=$($COMMAND)\necho \"Generated $BLOCKTOGEN block(s)\"\n\nprintf \"\\nList unspent...\\n\"\nCOMMAND=\"$REGTEST_CMD listunspent\"\necho $COMMAND\nUNSPENT=$($COMMAND)\necho \"Unspent (excluding unconfirmed): \" $UNSPENT\n\nunset REGTEST_CMD\nunset BLOCKTOGEN\nunset COMMAND\nunset GENERATED\nunset BALANCE\nunset NEW_ADDRESS\nunset TXID\nunset UNSPENT\n```"
}