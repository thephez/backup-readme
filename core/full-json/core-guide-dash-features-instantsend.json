{
 "metadata": {
  "image": [],
  "title": "Dash InstantSend",
  "description": "Dash Core's InstantSend feature provides a way to lock transaction inputs and enable secure, instantaneous transactions.",
  "keywords": "",
  "robots": "index"
 },
 "api": {
  "method": "get",
  "url": "",
  "auth": "required",
  "results": {
   "codes": [
    {
     "status": 200,
     "language": "json",
     "code": "{}",
     "name": ""
    },
    {
     "status": 400,
     "language": "json",
     "code": "{}",
     "name": ""
    }
   ]
  },
  "params": []
 },
 "next": {
  "description": "",
  "pages": [
   {
    "type": "doc",
    "icon": "file-text-o",
    "name": "Chainlocks",
    "slug": "core-guide-dash-features-chainlocks",
    "category": "Core Guides"
   }
  ]
 },
 "algolia": {
  "recordCount": 4,
  "publishPending": false,
  "translationFailure": false,
  "updatedAt": "2023-02-21T19:15:45.893Z"
 },
 "title": "InstantSend",
 "icon": "",
 "updates": [],
 "type": "basic",
 "slug": "core-guide-dash-features-instantsend",
 "excerpt": "",
 "body": "Dash Core's <<glossary:InstantSend>> feature provides a way to lock transaction <<glossary:inputs>> and enable secure, instantaneous <<glossary:transactions>>. The <<glossary:network>> automatically attempts to upgrade any qualifying transaction to InstantSend without a need for the sending <<glossary:wallet>> to explicitly request it.\n\n* To qualify for InstantSend, each transaction input must meet at least one of the following criteria:\n  * Be locked by InstantSend\n  * Be in a block that has a <<glossary:ChainLock>>\n  * Have at least the number <<glossary:confirmations>> (block depth) indicated by the table below\n\n| **Network** | **Confirmations Required** |\n| --- | --- |\n| Mainnet | 6 Blocks (normal transactions)<br>**100 Blocks (mining/masternode rewards)** |\n| Testnet / Regtest / Devnet | 2 Blocks |\n\n> \ud83d\udcd8 Transition to Deterministic InstantSend lock\n>\n> Protocol version 70220 implements [DIP22](https://github.com/dashpay/dips/blob/master/dip-0022.md) which adds the `isdlock` message as a replacement for the `islock` message. Once the transition is complete, the `islock` message will be deprecated.\n\nThe introduction of the <<glossary:Long-Living Masternode Quorum>> feature in Dash Core 0.14 provided a foundation to scale InstantSend. The transaction input locking process (and resulting network traffic) now occurs only within the quorum. This minimizes network congestion since only the [`islock` message](core-ref-p2p-network-instantsend-messages#islock) or [`isdlock` message](core-ref-p2p-network-instantsend-messages#isdlock) produced by the locking process is relayed to the entire Dash network. This message contains all the information necessary to verify a successful transaction lock.\n\n# Management via Spork\n\nSpork 2 (`SPORK_2_INSTANTSEND_ENABLED`) is used to manage InstantSend. <<glossary:Spork>> 2 enables or disables the entire InstantSend feature. As of Dash Core 0.17.0, it also can be used to limit locking to transactions found in blocks. \n\nIn the event of a sustained overload of InstantSend, the spork can be set to a value of `1`. This mode enables a clean transition to fully disabling InstantSend without interfering with ChainLocks. In this mode masternodes will stop creating locks for new transactions when they enter the mempool and will only lock them once mined into a block. Once all existing locked transactions are mined into blocks, InstantSend can then be disabled by setting the spork value to `0` without disrupting ChainLocks.\n\n# Mining Considerations\n\nNote: A transaction will __not__ be included in the block template (from the [`getblocktemplate` RPC](core-api-ref-remote-procedure-calls-mining#getblocktemplate)) unless it:\n\n 1. Has been locked, or \n 2. Has been in the mempool for >=10 minutes (`WAIT_FOR_ISLOCK_TIMEOUT`)\n\nA <<glossary:miner>> may still include any transaction, but <<glossary:blocks>> containing only locked transactions (or ones older than the timeout) should achieve a ChainLock faster. This is desirable to miners since it prevents any blockchain reorganizations that might orphan their block.\n\n# InstantSend Data Flow\n\n| **InstantSend Client** | **Direction**  | **Peers**   | **Description** |\n| --- | :---: | --- | --- |\n| [`tx` message](core-ref-p2p-network-data-messages#tx)                | \u2192 |                         | Client sends InstantSend transaction\n| **LLMQ Signing Sessions**   |   |                         | Quorums internally process locking |\n|                             |   |                         | Quorum(s) responsible for the transaction's inputs lock the inputs via LLMQ signing sessions\n|                             |   |                         | Once all inputs are locked, the quorum responsible for the overall transaction creates the transaction lock (`islock` or `isdlock`) via an LLMQ signing session\n| **LLMQ Results**             |   |                         | Quorum results broadcast to the network |\n|                             | \u2190 | [`inv` message](core-ref-p2p-network-data-messages#inv) (islock or isdlock)  | Quorum responds with lock inventory\n| [`getdata` message](core-ref-p2p-network-data-messages#getdata) (islock or isdlock)  | \u2192 |                         | Client requests lock message\n|                             | \u2190 | [`islock` message](core-ref-p2p-network-instantsend-messages#islock) or [`isdlock` message](core-ref-p2p-network-instantsend-messages#isdlock)        | Quorum responds with lock message\n\nOnce a transaction lock is approved, the `instantlock` field of various RPCs is set to `true` (e.g. the [`getmempoolentry` RPC](core-api-ref-remote-procedure-calls-blockchain#getmempoolentry)).",
 "mdxAltBody": "",
 "order": 0,
 "isReference": false,
 "deprecated": false,
 "hidden": false,
 "sync_unique": "",
 "link_url": "",
 "link_external": false,
 "reusableContent": [],
 "previousSlug": "",
 "slugUpdatedAt": "2021-03-24T15:50:38.875Z",
 "revision": 2,
 "_id": "63f5176df91c7700118e77be",
 "version": "63f5176df91c7700118e7825",
 "updatedAt": "2023-01-12T20:50:57.730Z",
 "createdAt": "2019-10-23T19:26:57.248Z",
 "project": "5daf2e65f4109c0040fd51e1",
 "user": "62b2101422da70001ee51d95",
 "parentDoc": "63f5176df91c7700118e77bd",
 "category": "63f5176df91c7700118e779e",
 "__v": 3,
 "pendingAlgoliaPublish": false,
 "isApi": false,
 "id": "63f5176df91c7700118e77be",
 "body_html": "<p>Dash Core&#x27;s <span class=\"GlossaryItem-trigger\">InstantSend</span> feature provides a way to lock transaction <span class=\"GlossaryItem-trigger\">inputs</span> and enable secure, instantaneous <span class=\"GlossaryItem-trigger\">transactions</span>. The <span class=\"GlossaryItem-trigger\">network</span> automatically attempts to upgrade any qualifying transaction to InstantSend without a need for the sending <span class=\"GlossaryItem-trigger\">wallet</span> to explicitly request it.</p>\n<ul>\n<li>To qualify for InstantSend, each transaction input must meet at least one of the following criteria:\n<ul>\n<li>Be locked by InstantSend</li>\n<li>Be in a block that has a <span class=\"GlossaryItem-trigger\">ChainLock</span></li>\n<li>Have at least the number <span class=\"GlossaryItem-trigger\">confirmations</span> (block depth) indicated by the table below</li>\n</ul>\n</li>\n</ul>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th><strong>Network</strong></th><th><strong>Confirmations Required</strong></th></tr></thead><tbody><tr><td>Mainnet</td><td>6 Blocks (normal transactions)<br/><strong>100 Blocks (mining/masternode rewards)</strong></td></tr><tr><td>Testnet / Regtest / Devnet</td><td>2 Blocks</td></tr></tbody></table></div></div>\n<blockquote class=\"callout callout_info\" theme=\"\ud83d\udcd8\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">\ud83d\udcd8</span><p>Transition to Deterministic InstantSend lock</p></h2><p>Protocol version 70220 implements <a href=\"https://github.com/dashpay/dips/blob/master/dip-0022.md\" target=\"\" title=\"\">DIP22</a> which adds the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">isdlock</code> message as a replacement for the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">islock</code> message. Once the transition is complete, the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">islock</code> message will be deprecated.</p></blockquote>\n<p>The introduction of the <span class=\"GlossaryItem-trigger\">Long-Living Masternode Quorum</span> feature in Dash Core 0.14 provided a foundation to scale InstantSend. The transaction input locking process (and resulting network traffic) now occurs only within the quorum. This minimizes network congestion since only the <a href=\"core-ref-p2p-network-instantsend-messages#islock\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">islock</code> message</a> or <a href=\"core-ref-p2p-network-instantsend-messages#isdlock\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">isdlock</code> message</a> produced by the locking process is relayed to the entire Dash network. This message contains all the information necessary to verify a successful transaction lock.</p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"management-via-spork\"></div><div class=\"heading-text\"><div id=\"section-management-via-spork\" class=\"heading-anchor_backwardsCompatibility\"></div>Management via Spork</div><a aria-label=\"Skip link to Management via Spork\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#management-via-spork\"></a></h1>\n<p>Spork 2 (<button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">SPORK_2_INSTANTSEND_ENABLED</code>) is used to manage InstantSend. <span class=\"GlossaryItem-trigger\">Spork</span> 2 enables or disables the entire InstantSend feature. As of Dash Core 0.17.0, it also can be used to limit locking to transactions found in blocks. </p>\n<p>In the event of a sustained overload of InstantSend, the spork can be set to a value of <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">1</code>. This mode enables a clean transition to fully disabling InstantSend without interfering with ChainLocks. In this mode masternodes will stop creating locks for new transactions when they enter the mempool and will only lock them once mined into a block. Once all existing locked transactions are mined into blocks, InstantSend can then be disabled by setting the spork value to <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">0</code> without disrupting ChainLocks.</p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"mining-considerations\"></div><div class=\"heading-text\"><div id=\"section-mining-considerations\" class=\"heading-anchor_backwardsCompatibility\"></div>Mining Considerations</div><a aria-label=\"Skip link to Mining Considerations\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#mining-considerations\"></a></h1>\n<p>Note: A transaction will <strong>not</strong> be included in the block template (from the <a href=\"core-api-ref-remote-procedure-calls-mining#getblocktemplate\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">getblocktemplate</code> RPC</a>) unless it:</p>\n<ol>\n<li>Has been locked, or </li>\n<li>Has been in the mempool for &gt;=10 minutes (<button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">WAIT_FOR_ISLOCK_TIMEOUT</code>)</li>\n</ol>\n<p>A <span class=\"GlossaryItem-trigger\">miner</span> may still include any transaction, but <span class=\"GlossaryItem-trigger\">blocks</span> containing only locked transactions (or ones older than the timeout) should achieve a ChainLock faster. This is desirable to miners since it prevents any blockchain reorganizations that might orphan their block.</p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"instantsend-data-flow\"></div><div class=\"heading-text\"><div id=\"section-instant-send-data-flow\" class=\"heading-anchor_backwardsCompatibility\"></div>InstantSend Data Flow</div><a aria-label=\"Skip link to InstantSend Data Flow\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#instantsend-data-flow\"></a></h1>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th><strong>InstantSend Client</strong></th><th style=\"text-align:center\"><strong>Direction</strong></th><th><strong>Peers</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><a href=\"core-ref-p2p-network-data-messages#tx\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code> message</a></td><td style=\"text-align:center\">\u2192</td><td></td><td>Client sends InstantSend transaction</td></tr><tr><td><strong>LLMQ Signing Sessions</strong></td><td style=\"text-align:center\"></td><td></td><td>Quorums internally process locking</td></tr><tr><td></td><td style=\"text-align:center\"></td><td></td><td>Quorum(s) responsible for the transaction&#x27;s inputs lock the inputs via LLMQ signing sessions</td></tr><tr><td></td><td style=\"text-align:center\"></td><td></td><td>Once all inputs are locked, the quorum responsible for the overall transaction creates the transaction lock (<button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">islock</code> or <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">isdlock</code>) via an LLMQ signing session</td></tr><tr><td><strong>LLMQ Results</strong></td><td style=\"text-align:center\"></td><td></td><td>Quorum results broadcast to the network</td></tr><tr><td></td><td style=\"text-align:center\">\u2190</td><td><a href=\"core-ref-p2p-network-data-messages#inv\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">inv</code> message</a> (islock or isdlock)</td><td>Quorum responds with lock inventory</td></tr><tr><td><a href=\"core-ref-p2p-network-data-messages#getdata\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">getdata</code> message</a> (islock or isdlock)</td><td style=\"text-align:center\">\u2192</td><td></td><td>Client requests lock message</td></tr><tr><td></td><td style=\"text-align:center\">\u2190</td><td><a href=\"core-ref-p2p-network-instantsend-messages#islock\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">islock</code> message</a> or <a href=\"core-ref-p2p-network-instantsend-messages#isdlock\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">isdlock</code> message</a></td><td>Quorum responds with lock message</td></tr></tbody></table></div></div>\n<p>Once a transaction lock is approved, the <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">instantlock</code> field of various RPCs is set to <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">true</code> (e.g. the <a href=\"core-api-ref-remote-procedure-calls-blockchain#getmempoolentry\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">getmempoolentry</code> RPC</a>).</p>"
}