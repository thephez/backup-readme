{
 "metadata": {
  "keywords": "",
  "robots": "index",
  "description": "The network messages in this subsection will help control the CoinJoin features built into Dash and facilitated by the masternode network.",
  "title": "CoinJoin Messages",
  "image": []
 },
 "mdx": {
  "altBody": "",
  "status": "rdmd"
 },
 "api": {
  "results": {
   "codes": [
    {
     "status": 200,
     "language": "json",
     "code": "{}",
     "name": ""
    },
    {
     "status": 400,
     "language": "json",
     "code": "{}",
     "name": ""
    }
   ]
  },
  "auth": "required",
  "params": [],
  "url": "",
  "method": "get"
 },
 "next": {
  "pages": [
   {
    "type": "doc",
    "icon": "file-text-o",
    "name": "Quorum Messages",
    "slug": "core-ref-p2p-network-quorum-messages",
    "category": "Core Reference"
   }
  ],
  "description": ""
 },
 "algolia": {
  "translationFailure": false,
  "publishPending": false,
  "recordCount": 9,
  "updatedAt": "2023-03-14T19:02:47.131Z"
 },
 "reusableContent": [],
 "_id": "63f5176df91c7700118e77ac",
 "version": "63f5176df91c7700118e7825",
 "updatedAt": "2023-03-14T19:02:46.735Z",
 "createdAt": "2019-10-23T16:03:06.848Z",
 "project": "5daf2e65f4109c0040fd51e1",
 "user": "5b8400d7185d5e00036dcc3b",
 "parentDoc": "63f5176df91c7700118e77a5",
 "category": "63f5176df91c7700118e779d",
 "updates": [],
 "link_external": false,
 "link_url": "",
 "sync_unique": "",
 "hidden": false,
 "isReference": false,
 "order": 8,
 "body": "The following network messages all help control the CoinJoin features built into Dash and facilitated by the <<glossary:masternode>> network.\n\nSince the messages are all related to a single process, this diagram shows them sequentially numbered. The [`dssu` message](core-ref-p2p-network-privatesend-messages#dssu) (not shown) is sent by the masternode in conjunction with some responses. For additional details, refer to the Developer Guide [CoinJoin section](core-guide-dash-features-privatesend).\n\n![Overview Of P2P Protocol PrivateSend Request And Reply Messages](https://dash-docs.github.io/img/dev/en-p2p-privatesend-messages.svg)\n\n# dsa\n\nThe [`dsa` message](core-ref-p2p-network-privatesend-messages#dsa) allows a <<glossary:node>> to join a CoinJoin pool. A collateral fee is required and may be forfeited if the client acts maliciously. The message operates in two ways:\n\n1. When sent to a masternode without a current CoinJoin queue, it initiates the start of a new queue\n\n2. When sent to a masternode with a current queue, it attempts to join the existing queue\n\nDash Core attempts to join an existing queue first and only requests a new one if no existing ones are available.\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| 4 | nDenom | int | Required | Denomination that will be exclusively used when submitting inputs into the pool\n| 216+ | txCollateral | [`tx` message](core-ref-p2p-network-data-messages#tx) | Required | Collateral TX that will be charged if this client acts maliciously\n\nThe following annotated hexdump shows a [`dsa` message](core-ref-p2p-network-privatesend-messages#dsa). (The message header has been omitted.) Note that the 'Required inputs' bytes will only be preset if <<glossary:Spork>> 6 is active and protocol version => 70209.\n\n``` text\n02000000 ................................... Denomination: 1 Dash (2)\n\nCollateral Transaction\n| Previous Output\n| |\n| | 010000000183bd1980c71c38f035db9b\n| | 14d7f934f7d595181b3436e362899026 ....... Outpoint TXID\n| | 19f3f7d3 ............................... Outpoint index number: 3556242201\n|\n| 83 ....................................... Bytes in sig. script: 131\n|\n| 000000006b483045022100f4d8fa0ae4132235fe\n| cd540a62715ccfb1c9a97f8698d066656e30bb1e\n| 1e06b90220301b4cc93f38950a69396ed89dfcc0\n| 8e72ec8e6e7169463592a0bf504946d98b812102\n| fa4b9c0f9e76e06d57c75cab9c8368a62a1ce8db\n| 6eb0c25c3e0719ddd9ab549cffffffff01e09304\n| 00000000001976a914f895 ................... Secp256k1 signature: None\n|\n| 6a4eb0e5 ................................. Sequence number: 3853536874\n```\n\n# dsc\n\nThe [`dsc` message](core-ref-p2p-network-privatesend-messages#dsc) indicates a CoinJoin session is complete.\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| 4 | nSessionID | int | Required | ID of the session\n| 4 | nMessageID | int | Required | ID of the message describing the result of the session\n\nReference the Message IDs table under the [`dssu` message](core-ref-p2p-network-privatesend-messages#dssu) for descriptions of the Message ID values.\n\nThe following annotated hexdump shows a [`dsc` message](core-ref-p2p-network-privatesend-messages#dsc). (The message header has been omitted.)\n\n``` text\nd9070700 ............................. Session ID: 791686\n14000000 ............................. Message ID: MSG_SUCCESS (20)\n```\n\n# dsf\n\nThe [`dsf` message](core-ref-p2p-network-privatesend-messages#dsf) is sent by the masternode as the final transaction in a CoinJoin session. The <<glossary:masternode>> expects <<glossary:nodes>> in the session to respond with a [`dss` message](core-ref-p2p-network-privatesend-messages#dss).\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| 4 | nSessionID | int | Required | ID of the session\n| # | txFinal | [`tx` message](core-ref-p2p-network-data-messages#tx) | Required |  Final transaction with unsigned inputs\n\nThe following annotated hexdump shows a [`dsf` message](core-ref-p2p-network-privatesend-messages#dsf). (The message header has been omitted.) Transaction <<glossary:inputs>>/<<glossary:outputs>> are only shown for a single node (compare with the [`dsi` message](core-ref-p2p-network-privatesend-messages#dsi) and [`dss` message](core-ref-p2p-network-privatesend-messages#dss) hexdumps).\n\n``` text\n86140c00 ............................. Session ID: 791686\n\nTransaction Message\n| 01000000 ................................. Version: 1\n|\n| 0f ......................................... Number of inputs: 15\n|\n| [...] ...................................... 5 transaction inputs omitted\n|\n| Transaction input #6\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 02000000 ................................. Outpoint index number: 0\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #7\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0f000000 ................................. Outpoint index number: 15\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #8\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0d000000 ................................. Outpoint index number: 13\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n|\n| [...] ...................................... 7 more transaction inputs omitted\n|\n|\n| 0f ......................................... Number of outputs: 15\n|\n| Transaction output #1\n| | e8e4f50500000000 ......................... Duffs (1.00001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 14826d7ba05cf76588a5503c03951dc9\n| | | | 14c91b6c ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n|\n| [...] ...................................... 3 transaction outputs omitted\n|\n|\n| Transaction output #5\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 426614716e94812d483bca32374f6ac8\n| | | | cd121b0d ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n|\n| [...] ...................................... 9 transaction outputs omitted\n|\n|\n| Transaction output #15\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | f01197177de2358928196a543b2bbd97\n| | | | 3c2ab002 ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| 00000000 ................................... locktime: 0 (a block height)\n```\n\n# dsi\n\nThe [`dsi` message](core-ref-p2p-network-privatesend-messages#dsi) replies to a [`dsq` message](core-ref-p2p-network-privatesend-messages#dsq) that has the Ready field set to 0x01. The [`dsi` message](core-ref-p2p-network-privatesend-messages#dsi) contains user <<glossary:inputs>> for processing along with the <<glossary:outputs>> and a collateral. Once the <<glossary:masternode>> receives [`dsi` messages](core-ref-p2p-network-privatesend-messages#dsi) from all members of the pool, it responds with a [`dsf` message](core-ref-p2p-network-privatesend-messages#dsf).\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| ? | vecTxDSIn | CTxDSIn[] | Required | Vector of users inputs (CTxDSIn serialization is equal to CTxIn serialization)\n| 216+ | txCollateral | [`tx` message](core-ref-p2p-network-data-messages#tx) | Required | Collateral transaction which is used to prevent misbehavior and also to charge fees randomly\n| ? | vecTxDSOut | CTxDSOut[] | Required | Vector of user outputs (CTxDSOut serialization is equal to CTxOut serialization)\n\nThe following annotated hexdump shows a [`dsi` message](core-ref-p2p-network-privatesend-messages#dsi). (The message header has been omitted.)\n\n``` text\nUser inputs\n| 03 ......................................... Number of inputs: 3\n|\n| Transaction input #1\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 02000000 ................................. Outpoint index number: 2\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #2\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0f000000 ................................. Outpoint index number: 15\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #3\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0d000000 ................................. Outpoint index number: 13\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n\nCollateral Transaction\n| 01000000 ................................... Version: 1\n|\n| 01 ......................................... Number of inputs: 1\n|\n| Previous Output\n| |\n| | 83bd1980c71c38f035db9b14d7f934f7\n| | d595181b3436e36289902619f3f7d383 ......... Outpoint TXID\n| | 00000000 ................................. Outpoint index number: 0\n| |\n| | 6b ....................................... Bytes in sig. script: 107\n| |\n| | 483045022100f4d8fa0ae4132235fecd540a\n| | 62715ccfb1c9a97f8698d066656e30bb1e1e\n| | 06b90220301b4cc93f38950a69396ed89dfc\n| | c08e72ec8e6e7169463592a0bf504946d98b\n| | 812102fa4b9c0f9e76e06d57c75cab9c8368\n| | a62a1ce8db6eb0c25c3e0719ddd9ab549c ....... Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| 01 ......................................... Number of outputs: 1\n|\n| | e093040000000000 ......................... 300,000 Duffs (0.003 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | f8956a4eb0e53b05ee6b30edfd2770b5\n| | | | 26c1f1bb ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| 00000000 ................................... locktime: 0 (a block height)\n\nUser outputs\n| 03 ......................................... Number of outputs: 3\n|\n| Transaction output #1\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 14826d7ba05cf76588a5503c03951dc9\n| | | | 14c91b6c ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| Transaction output #2\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | f01197177de2358928196a543b2bbd97\n| | | | 3c2ab002 ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| Transaction output #3\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 426614716e94812d483bca32374f6ac8\n| | | | cd121b0d ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n```\n\n# dsq\n\nThe [`dsq` message](core-ref-p2p-network-privatesend-messages#dsq) provides <<glossary:nodes>> with queue details and notifies them when to sign final transaction messages.\n\nIf the message indicates the queue is not ready, the node verifies the message is valid. It also verifies that the <<glossary:masternode>> is not flooding the <<glossary:network>> with [`dsq` messages](core-ref-p2p-network-privatesend-messages#dsq) in an attempt to dominate the queuing process. It then relays the message to its connected <<glossary:peers>>.\n\nIf the message indicates the queue is ready, the node responds with a [`dsi` message](core-ref-p2p-network-privatesend-messages#dsi).\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| 4 | nDenom | int | Required | Denomination allowed in this session\n| 36 | masternodeOutPoint | outPoint | *Required | **\\* Replaced by `proTxHash` beginning with protocol version 70226**<br>The unspent outpoint of the masternode (holding 1000 DASH) which is hosting this session\n| 32 | proTxHash | uint256 | Required | **Added in protocol version 70226.<br>Replaces `masternodeOutPoint`.**<br>The ProRegTx hash of the masternode which is hosting this session\n| 8 | nTime | int64_t | Required | Time this [`dsq` message](core-ref-p2p-network-privatesend-messages#dsq) was created\n| 1 | fReady | bool | Required | Indicates if the pool is ready to be executed\n| 97 | vchSig | char[] | Required | BLS Signature of this message by masternode verifiable via pubKeyMasternode (Length (1 byte) + Signature (96 bytes))<br>**Note**: serialized using the basic BLS scheme after Dash 19.0 activation\n\nDenominations (per [`src/coinjoin.cpp`](https://github.com/dashpay/dash/blob/v0.16.x/src/privatesend/privatesend.cpp#L316-L336))\n\n| Value | Denomination\n|------|--------------\n| 1 | 10 Dash\n| 2 | 1 Dash\n| 4 | 0.1 Dash\n| 8 | 0.01 Dash\n| 16 | 0.001 Dash\n\nThe following annotated hexdump shows a [`dsq` message](core-ref-p2p-network-privatesend-messages#dsq). (The message header has been omitted.) Note that the 'Required <<glossary:inputs>>' bytes will only be preset if <<glossary:Spork>> 6 is active and protocol version => 70209.\n\n``` text\n01000000 ............................. Denomination: 10 Dash (1)\n\nMasternode Outpoint\n| a383a2489aedccfab4bb41368d1c8ee3\n| 10d9ee90cb3d181880ce4e0cdb36ecb7\n| 0f000000 ........................... Outpoint index number: 15\n\n10b4235c00000000 ..................... Create Time: 2018-12-26 17:02:08 UTC\n\n00 ................................... Ready: 0\n\n60 ................................... Signature length: 96\n\n0409a1349869a02e90e6e1f6d92bf995\n27a72542fed987f6d2719596973d89e6\n74605a3585b1335650f1555f7576061d\n110fb72b3308e378ac8e8fbebeeffdb4\n9b2a6562ad965bb3c3fd3f8e68483fdb\n0d1401e2264071a74fc01d51e943ce9f ..... Masternode BLS Signature\n```\n\n# dss\n\nThe [`dss` message](core-ref-p2p-network-privatesend-messages#dss) replies to a [`dsf` message](core-ref-p2p-network-privatesend-messages#dsf) sent by the <<glossary:masternode>> managing the session.  The [`dsf` message](core-ref-p2p-network-privatesend-messages#dsf) provides the unsigned transaction <<glossary:inputs>> for all members of the pool. Each <<glossary:node>> verifies that the final transaction matches what is expected. They then sign any transaction inputs belonging to them and then relay them to the masternode via this [`dss` message](core-ref-p2p-network-privatesend-messages#dss).\n\nOnce the masternode receives and validates all [`dss` messages](core-ref-p2p-network-privatesend-messages#dss), it issues a [`dsc` message](core-ref-p2p-network-privatesend-messages#dsc). If a node does not respond to a [`dsf` message](core-ref-p2p-network-privatesend-messages#dsf) with signed transaction inputs, it may forfeit the collateral it provided. This is to minimize malicious behavior.\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| # | inputs | txIn[] | Required | Signed inputs for the session\n\nThe following annotated hexdump shows a [`dss` message](core-ref-p2p-network-privatesend-messages#dss). (The message header has been omitted.) Note that these will be the same transaction inputs that were supplied (unsiged) in the [`dsi` message](core-ref-p2p-network-privatesend-messages#dsi).\n\n``` text\nUser inputs\n| 03 ......................................... Number of inputs: 3\n|\n| Transaction input #1\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 02000000 ................................. Outpoint index number: 2\n| |\n| | 6b ....................................... Bytes in sig. script: 107\n| | 483045022100b3a861dca83463aabf5e4a14a286\n| | 1b9c2e51e0dedd8a13552e118bf74eb4a68d0220\n| | 4a91c416768d27e6bdcfa45d28129841dbcc728b\n| | f0bbec9701cfc4e743d23adf812102cc4876c9da\n| | 84417dec37924e0479205ce02529bb0ba88631d3\n| | ccc9cfcdf00173 ........................... Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #2\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0f000000 ................................. Outpoint index number: 15\n| |\n| | 6a ....................................... Bytes in sig. script: 106\n| | 4730440220268f3b7799ca4ec132e511a4756019\n| | c56016f7771561dc0597d84e9b1fa9fc08022067\n| | 5199b9b3f9a7eba69b7bbb4aa2a413d955762f9d\n| | 68be5a9c02c6772c8078fd812103258925f0dbbf\n| | 9d5aa20a675459fa2e86c9f9061dee82a00dca73\n| | 9080f051d891 ............................. Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #3\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0d000000 ................................. Outpoint index number: 13\n| |\n| | 6a ....................................... Bytes in sig. script: 106\n| | 4730440220404bb067e0c94a2bd75c6798c1af8c\n| | 95e8b92f5e437cff2bcb4660f24a34d06d02203a\n| | b707bd371a84a9e7bd1fbe3b0c939fd23e0a9165\n| | de78809b9310372a4b3879812103a9a6c5204811\n| | a8cab04b595ed622a1fed6efd3b2d888fadd0c97\n| | 3737fcdf2bc7 ............................. Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n```\n\n# dssu\n\nThe [`dssu` message](core-ref-p2p-network-privatesend-messages#dssu) provides a pool status update.\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| 4 | nMsgSessionID | int | Required | Session ID\n| 4 | nMsgState | int | Required | Current state of processing\n| 4 | nMsgEntriesCount | int | Required | **_Deprecated in Dash Core 0.15.0_**<br><br>Number of entries in the pool\n| 4 | nMsgStatusUpdate | int | Required | Update state and/or signal if entry was accepted or not\n| 4 | nMsgMessageID | int | Required | ID of the typical masternode reply message\n\n**Pool State**\n\n| State | Description\n|------|--------------\n| 0 | `POOL_STATE_IDLE`\n| 1 | `POOL_STATE_QUEUE`\n| 2 | `POOL_STATE_ACCEPTING_ENTRIES`\n| 3 | `POOL_STATE_SIGNING`\n| 4 | `POOL_STATE_ERROR`\n| ~~5~~ | ~~`POOL_STATE_SUCCESS`~~ **_Deprecated in Dash Core 0.16.0_**\n\n**Pool Status Update**\n\n| Status | Description\n|------|--------------\n| 0 | `STATUS_REJECTED`\n| 1 | `STATUS_ACCEPTED`\n\n**Message IDs**\n\n| Code | Description\n|------|--------------\n| 0x00 | `ERR_ALREADY_HAVE`\n| 0x01 | `ERR_DENOM`\n| 0x02 | `ERR_ENTRIES_FULL`\n| 0x03 | `ERR_EXISTING_TX`\n| 0x04 | `ERR_FEES`\n| 0x05 | `ERR_INVALID_COLLATERAL`\n| 0x06 | `ERR_INVALID_INPUT`\n| 0x07 | `ERR_INVALID_SCRIPT`\n| 0x08 | `ERR_INVALID_TX`\n| 0x09 | `ERR_MAXIMUM`\n| 0x0A (10) | `ERR_MN_LIST`\n| 0x0B (11) | `ERR_MODE`\n| 0x0C (12) | `ERR_NON_STANDARD_PUBKEY` (Not used)\n| 0x0D (13) | `ERR_NOT_A_MN` (Not used)\n| 0x0E (14) | `ERR_QUEUE_FULL`\n| 0x0F (15) | `ERR_RECENT`\n| 0x10 (16) | `ERR_SESSION`\n| 0x11 (17) | `ERR_MISSING_TX`\n| 0x12 (18) | `ERR_VERSION`\n| 0x13 (19) | `MSG_NOERR`\n| 0x14 (20) | `MSG_SUCCESS`\n| 0x15 (21) | `MSG_ENTRIES_ADDED`\n| 0x16 (22) | `ERR_SIZE_MISMATCH`\n\nThe following annotated hexdump shows a [`dssu` message](core-ref-p2p-network-privatesend-messages#dssu). (The message header has been omitted.)\n\n``` text\n86140c00 ............................. Session ID: 791686\n02000000 ............................. State: POOL_STATE_ACCEPTING_ENTRIES (2)\n01000000 ............................. Status Update: STATUS_ACCEPTED (1)\n13000000 ............................. Message ID: MSG_NOERR (0x13)\n```\n\n# dstx\n\nThe [`dstx` message](core-ref-p2p-network-privatesend-messages#dstx) allows <<glossary:masternodes>> to broadcast subsidized transactions without fees (to provide security in processing).\n\n| Bytes | Name | Data type | Required | Description |\n| ---------- | ----------- | --------- | -------- | -------- |\n| # | tx | [`tx` message](core-ref-p2p-network-data-messages#tx) | Required | The transaction\n| 36 | masternode<br>OutPoint | outPoint | *Required | **\\* Replaced by `proTxHash` beginning with protocol version 70226**<br>The unspent outpoint of the masternode (holding 1000 DASH) which is signing the message\n| 32 | proTxHash | uint256 | Required | **Added in protocol version 70226.<br>Replaces `masternodeOutPoint`.**<br>The ProRegTx hash of the masternode which is signing the message\n| 97 | vchSig | char[] | Required | BLS Signature of this message by masternode verifiable via pubKeyMasternode (Length (1 byte) + Signature (96 bytes))<br>**Note**: serialized using the basic BLS scheme after Dash 19.0 activation\n| 8 | sigTime | int64_t | Require | Time this message was signed\n\nThe following annotated hexdump shows a [`dstx` message](core-ref-p2p-network-privatesend-messages#dstx). (The message header has been omitted.)\n\n``` text\nTransaction Message\n| 0200 ....................................... Version: 2\n| 0000 ....................................... Type: 0 (Classical Tx)\n|\n| 05 ......................................... Number of inputs: 5\n|\n| Transaction input #1\n| |\n| | 0adb782b2170018eada54534be880e70\n| | 74ed8307a566731119b1782362af43ad ......... Outpoint TXID\n| | 05000000 ................................. Outpoint index number: 5\n| |\n| | 6b ....................................... Bytes in sig. script: 107\n| | 483045022100b1243fcba562a0f1d7c4\n| | cc3b320645dfa96c6412f368ccdbc1b7\n| | acb6b0aa1db502201606c81b0d79f52f\n| | 47bcb071b64c37f72dd1378efa67a2de\n| | dd86c44d393668fa812102d6ff581270\n| | 632f5e972b0418ee871867b5c04b6eae\n| | 3458ad135ad8f1daaa4fc2 ................... Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| [...] ...................................... 4 more transaction inputs omitted\n|\n|\n| 05 ......................................... Number of outputs: 5\n|\n| Transaction output #1\n| | 10f19a3b00000000 ......................... Duffs (10.0001000 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 3eb7ae776b096231de9eca42dd57a677\n| | | | d3b05452 ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| [...] ...................................... 4 more transaction outputs omitted\n|\n|\n| 00000000 ................................... locktime: 0 (a block height)\n\nMasternode Unspent Outpoint\n| ccfbe4e7c220264cb0a8bfa5e91c6957\n| 33c255384790e80e891a0d8f56a59d9e ......... Outpoint TXID\n| 01000000 ................................. Outpoint index number: 1\n\n60 ......................................... Signature length: 96\n\n94c8e427f448789f58cda17445e76c64\nd0efa7c089addcb378f9b8d04b72f499\na4e8e616b5011886b9cffcce29e17fc1\n10ad8609c3ee1a3207b882e7ff58400f\n42d6e6544108b349da2cc5e716a5f266\n4a2dc96b0f080effd5349f2ae06ac234 .......... Masternode Signature\n\n59b4235c00000000 .......................... Sig Time: 2018-12-26 17:03:21 UTC\n```",
 "excerpt": "",
 "slug": "core-ref-p2p-network-privatesend-messages",
 "type": "basic",
 "title": "CoinJoin Messages",
 "__v": 3,
 "pendingAlgoliaPublish": false,
 "previousSlug": "",
 "slugUpdatedAt": "2021-02-15T03:24:52.072Z",
 "deprecated": false,
 "icon": "",
 "revision": 17,
 "isApi": false,
 "id": "63f5176df91c7700118e77ac",
 "body_html": "<p>The following network messages all help control the CoinJoin features built into Dash and facilitated by the <span class=\"GlossaryItem-trigger\">masternode</span> network.</p>\n<p>Since the messages are all related to a single process, this diagram shows them sequentially numbered. The <a href=\"core-ref-p2p-network-privatesend-messages#dssu\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dssu</code> message</a> (not shown) is sent by the masternode in conjunction with some responses. For additional details, refer to the Developer Guide <a href=\"core-guide-dash-features-privatesend\" target=\"\" title=\"\">CoinJoin section</a>.</p>\n<p><span aria-label=\"Overview Of P2P Protocol PrivateSend Request And Reply Messages\" class=\"img lightbox closed\" role=\"button\" tabindex=\"0\"><span class=\"lightbox-inner\"><img alt=\"Overview Of P2P Protocol PrivateSend Request And Reply Messages\" loading=\"lazy\" src=\"https://dash-docs.github.io/img/dev/en-p2p-privatesend-messages.svg\" align=\"\" caption=\"\" height=\"auto\" title=\"\" width=\"auto\"/></span></span></p>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dsa\"></div><div class=\"heading-text\"><div id=\"section-dsa\" class=\"heading-anchor_backwardsCompatibility\"></div>dsa</div><a aria-label=\"Skip link to dsa\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dsa\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dsa\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsa</code> message</a> allows a <span class=\"GlossaryItem-trigger\">node</span> to join a CoinJoin pool. A collateral fee is required and may be forfeited if the client acts maliciously. The message operates in two ways:</p>\n<ol>\n<li>\n<p>When sent to a masternode without a current CoinJoin queue, it initiates the start of a new queue</p>\n</li>\n<li>\n<p>When sent to a masternode with a current queue, it attempts to join the existing queue</p>\n</li>\n</ol>\n<p>Dash Core attempts to join an existing queue first and only requests a new one if no existing ones are available.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>4</td><td>nDenom</td><td>int</td><td>Required</td><td>Denomination that will be exclusively used when submitting inputs into the pool</td></tr><tr><td>216+</td><td>txCollateral</td><td><a href=\"core-ref-p2p-network-data-messages#tx\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code> message</a></td><td>Required</td><td>Collateral TX that will be charged if this client acts maliciously</td></tr></tbody></table></div></div>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dsa\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsa</code> message</a>. (The message header has been omitted.) Note that the &#x27;Required inputs&#x27; bytes will only be preset if <span class=\"GlossaryItem-trigger\">Spork</span> 6 is active and protocol version =&gt; 70209.</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">02000000 ................................... Denomination: 1 Dash (2)\n\nCollateral Transaction\n| Previous Output\n| |\n| | 010000000183bd1980c71c38f035db9b\n| | 14d7f934f7d595181b3436e362899026 ....... Outpoint TXID\n| | 19f3f7d3 ............................... Outpoint index number: 3556242201\n|\n| 83 ....................................... Bytes in sig. script: 131\n|\n| 000000006b483045022100f4d8fa0ae4132235fe\n| cd540a62715ccfb1c9a97f8698d066656e30bb1e\n| 1e06b90220301b4cc93f38950a69396ed89dfcc0\n| 8e72ec8e6e7169463592a0bf504946d98b812102\n| fa4b9c0f9e76e06d57c75cab9c8368a62a1ce8db\n| 6eb0c25c3e0719ddd9ab549cffffffff01e09304\n| 00000000001976a914f895 ................... Secp256k1 signature: None\n|\n| 6a4eb0e5 ................................. Sequence number: 3853536874\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dsc\"></div><div class=\"heading-text\"><div id=\"section-dsc\" class=\"heading-anchor_backwardsCompatibility\"></div>dsc</div><a aria-label=\"Skip link to dsc\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dsc\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dsc\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsc</code> message</a> indicates a CoinJoin session is complete.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>4</td><td>nSessionID</td><td>int</td><td>Required</td><td>ID of the session</td></tr><tr><td>4</td><td>nMessageID</td><td>int</td><td>Required</td><td>ID of the message describing the result of the session</td></tr></tbody></table></div></div>\n<p>Reference the Message IDs table under the <a href=\"core-ref-p2p-network-privatesend-messages#dssu\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dssu</code> message</a> for descriptions of the Message ID values.</p>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dsc\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsc</code> message</a>. (The message header has been omitted.)</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">d9070700 ............................. Session ID: 791686\n14000000 ............................. Message ID: MSG_SUCCESS (20)\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dsf\"></div><div class=\"heading-text\"><div id=\"section-dsf\" class=\"heading-anchor_backwardsCompatibility\"></div>dsf</div><a aria-label=\"Skip link to dsf\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dsf\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dsf\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsf</code> message</a> is sent by the masternode as the final transaction in a CoinJoin session. The <span class=\"GlossaryItem-trigger\">masternode</span> expects <span class=\"GlossaryItem-trigger\">nodes</span> in the session to respond with a <a href=\"core-ref-p2p-network-privatesend-messages#dss\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dss</code> message</a>.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>4</td><td>nSessionID</td><td>int</td><td>Required</td><td>ID of the session</td></tr><tr><td>#</td><td>txFinal</td><td><a href=\"core-ref-p2p-network-data-messages#tx\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code> message</a></td><td>Required</td><td>Final transaction with unsigned inputs</td></tr></tbody></table></div></div>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dsf\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsf</code> message</a>. (The message header has been omitted.) Transaction <span class=\"GlossaryItem-trigger\">inputs</span>/<span class=\"GlossaryItem-trigger\">outputs</span> are only shown for a single node (compare with the <a href=\"core-ref-p2p-network-privatesend-messages#dsi\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsi</code> message</a> and <a href=\"core-ref-p2p-network-privatesend-messages#dss\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dss</code> message</a> hexdumps).</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">86140c00 ............................. Session ID: 791686\n\nTransaction Message\n| 01000000 ................................. Version: 1\n|\n| 0f ......................................... Number of inputs: 15\n|\n| [...] ...................................... 5 transaction inputs omitted\n|\n| Transaction input #6\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 02000000 ................................. Outpoint index number: 0\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #7\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0f000000 ................................. Outpoint index number: 15\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #8\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0d000000 ................................. Outpoint index number: 13\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n|\n| [...] ...................................... 7 more transaction inputs omitted\n|\n|\n| 0f ......................................... Number of outputs: 15\n|\n| Transaction output #1\n| | e8e4f50500000000 ......................... Duffs (1.00001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 14826d7ba05cf76588a5503c03951dc9\n| | | | 14c91b6c ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n|\n| [...] ...................................... 3 transaction outputs omitted\n|\n|\n| Transaction output #5\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 426614716e94812d483bca32374f6ac8\n| | | | cd121b0d ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n|\n| [...] ...................................... 9 transaction outputs omitted\n|\n|\n| Transaction output #15\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | f01197177de2358928196a543b2bbd97\n| | | | 3c2ab002 ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| 00000000 ................................... locktime: 0 (a block height)\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dsi\"></div><div class=\"heading-text\"><div id=\"section-dsi\" class=\"heading-anchor_backwardsCompatibility\"></div>dsi</div><a aria-label=\"Skip link to dsi\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dsi\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dsi\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsi</code> message</a> replies to a <a href=\"core-ref-p2p-network-privatesend-messages#dsq\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsq</code> message</a> that has the Ready field set to 0x01. The <a href=\"core-ref-p2p-network-privatesend-messages#dsi\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsi</code> message</a> contains user <span class=\"GlossaryItem-trigger\">inputs</span> for processing along with the <span class=\"GlossaryItem-trigger\">outputs</span> and a collateral. Once the <span class=\"GlossaryItem-trigger\">masternode</span> receives <a href=\"core-ref-p2p-network-privatesend-messages#dsi\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsi</code> messages</a> from all members of the pool, it responds with a <a href=\"core-ref-p2p-network-privatesend-messages#dsf\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsf</code> message</a>.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>?</td><td>vecTxDSIn</td><td>CTxDSIn[]</td><td>Required</td><td>Vector of users inputs (CTxDSIn serialization is equal to CTxIn serialization)</td></tr><tr><td>216+</td><td>txCollateral</td><td><a href=\"core-ref-p2p-network-data-messages#tx\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code> message</a></td><td>Required</td><td>Collateral transaction which is used to prevent misbehavior and also to charge fees randomly</td></tr><tr><td>?</td><td>vecTxDSOut</td><td>CTxDSOut[]</td><td>Required</td><td>Vector of user outputs (CTxDSOut serialization is equal to CTxOut serialization)</td></tr></tbody></table></div></div>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dsi\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsi</code> message</a>. (The message header has been omitted.)</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">User inputs\n| 03 ......................................... Number of inputs: 3\n|\n| Transaction input #1\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 02000000 ................................. Outpoint index number: 2\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #2\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0f000000 ................................. Outpoint index number: 15\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #3\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0d000000 ................................. Outpoint index number: 13\n| |\n| | 00 ....................................... Bytes in sig. script: 0\n| | .......................................... Secp256k1 signature: None\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n\nCollateral Transaction\n| 01000000 ................................... Version: 1\n|\n| 01 ......................................... Number of inputs: 1\n|\n| Previous Output\n| |\n| | 83bd1980c71c38f035db9b14d7f934f7\n| | d595181b3436e36289902619f3f7d383 ......... Outpoint TXID\n| | 00000000 ................................. Outpoint index number: 0\n| |\n| | 6b ....................................... Bytes in sig. script: 107\n| |\n| | 483045022100f4d8fa0ae4132235fecd540a\n| | 62715ccfb1c9a97f8698d066656e30bb1e1e\n| | 06b90220301b4cc93f38950a69396ed89dfc\n| | c08e72ec8e6e7169463592a0bf504946d98b\n| | 812102fa4b9c0f9e76e06d57c75cab9c8368\n| | a62a1ce8db6eb0c25c3e0719ddd9ab549c ....... Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| 01 ......................................... Number of outputs: 1\n|\n| | e093040000000000 ......................... 300,000 Duffs (0.003 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | f8956a4eb0e53b05ee6b30edfd2770b5\n| | | | 26c1f1bb ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| 00000000 ................................... locktime: 0 (a block height)\n\nUser outputs\n| 03 ......................................... Number of outputs: 3\n|\n| Transaction output #1\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 14826d7ba05cf76588a5503c03951dc9\n| | | | 14c91b6c ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| Transaction output #2\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | f01197177de2358928196a543b2bbd97\n| | | | 3c2ab002 ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| Transaction output #3\n| | e8e4f50500000000 ......................... 100,001,000 Duffs (1.0001 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 426614716e94812d483bca32374f6ac8\n| | | | cd121b0d ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dsq\"></div><div class=\"heading-text\"><div id=\"section-dsq\" class=\"heading-anchor_backwardsCompatibility\"></div>dsq</div><a aria-label=\"Skip link to dsq\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dsq\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dsq\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsq</code> message</a> provides <span class=\"GlossaryItem-trigger\">nodes</span> with queue details and notifies them when to sign final transaction messages.</p>\n<p>If the message indicates the queue is not ready, the node verifies the message is valid. It also verifies that the <span class=\"GlossaryItem-trigger\">masternode</span> is not flooding the <span class=\"GlossaryItem-trigger\">network</span> with <a href=\"core-ref-p2p-network-privatesend-messages#dsq\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsq</code> messages</a> in an attempt to dominate the queuing process. It then relays the message to its connected <span class=\"GlossaryItem-trigger\">peers</span>.</p>\n<p>If the message indicates the queue is ready, the node responds with a <a href=\"core-ref-p2p-network-privatesend-messages#dsi\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsi</code> message</a>.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>4</td><td>nDenom</td><td>int</td><td>Required</td><td>Denomination allowed in this session</td></tr><tr><td>36</td><td>masternodeOutPoint</td><td>outPoint</td><td>*Required</td><td><strong>* Replaced by <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">proTxHash</code> beginning with protocol version 70226</strong><br/>The unspent outpoint of the masternode (holding 1000 DASH) which is hosting this session</td></tr><tr><td>32</td><td>proTxHash</td><td>uint256</td><td>Required</td><td><strong>Added in protocol version 70226.<br/>Replaces <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">masternodeOutPoint</code>.</strong><br/>The ProRegTx hash of the masternode which is hosting this session</td></tr><tr><td>8</td><td>nTime</td><td>int64_t</td><td>Required</td><td>Time this <a href=\"core-ref-p2p-network-privatesend-messages#dsq\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsq</code> message</a> was created</td></tr><tr><td>1</td><td>fReady</td><td>bool</td><td>Required</td><td>Indicates if the pool is ready to be executed</td></tr><tr><td>97</td><td>vchSig</td><td>char[]</td><td>Required</td><td>BLS Signature of this message by masternode verifiable via pubKeyMasternode (Length (1 byte) + Signature (96 bytes))<br/><strong>Note</strong>: serialized using the basic BLS scheme after Dash 19.0 activation</td></tr></tbody></table></div></div>\n<p>Denominations (per <a href=\"https://github.com/dashpay/dash/blob/v0.16.x/src/privatesend/privatesend.cpp#L316-L336\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">src/coinjoin.cpp</code></a>)</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Value</th><th>Denomination</th></tr></thead><tbody><tr><td>1</td><td>10 Dash</td></tr><tr><td>2</td><td>1 Dash</td></tr><tr><td>4</td><td>0.1 Dash</td></tr><tr><td>8</td><td>0.01 Dash</td></tr><tr><td>16</td><td>0.001 Dash</td></tr></tbody></table></div></div>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dsq\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsq</code> message</a>. (The message header has been omitted.) Note that the &#x27;Required <span class=\"GlossaryItem-trigger\">inputs</span>&#x27; bytes will only be preset if <span class=\"GlossaryItem-trigger\">Spork</span> 6 is active and protocol version =&gt; 70209.</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">01000000 ............................. Denomination: 10 Dash (1)\n\nMasternode Outpoint\n| a383a2489aedccfab4bb41368d1c8ee3\n| 10d9ee90cb3d181880ce4e0cdb36ecb7\n| 0f000000 ........................... Outpoint index number: 15\n\n10b4235c00000000 ..................... Create Time: 2018-12-26 17:02:08 UTC\n\n00 ................................... Ready: 0\n\n60 ................................... Signature length: 96\n\n0409a1349869a02e90e6e1f6d92bf995\n27a72542fed987f6d2719596973d89e6\n74605a3585b1335650f1555f7576061d\n110fb72b3308e378ac8e8fbebeeffdb4\n9b2a6562ad965bb3c3fd3f8e68483fdb\n0d1401e2264071a74fc01d51e943ce9f ..... Masternode BLS Signature\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dss\"></div><div class=\"heading-text\"><div id=\"section-dss\" class=\"heading-anchor_backwardsCompatibility\"></div>dss</div><a aria-label=\"Skip link to dss\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dss\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dss\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dss</code> message</a> replies to a <a href=\"core-ref-p2p-network-privatesend-messages#dsf\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsf</code> message</a> sent by the <span class=\"GlossaryItem-trigger\">masternode</span> managing the session.  The <a href=\"core-ref-p2p-network-privatesend-messages#dsf\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsf</code> message</a> provides the unsigned transaction <span class=\"GlossaryItem-trigger\">inputs</span> for all members of the pool. Each <span class=\"GlossaryItem-trigger\">node</span> verifies that the final transaction matches what is expected. They then sign any transaction inputs belonging to them and then relay them to the masternode via this <a href=\"core-ref-p2p-network-privatesend-messages#dss\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dss</code> message</a>.</p>\n<p>Once the masternode receives and validates all <a href=\"core-ref-p2p-network-privatesend-messages#dss\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dss</code> messages</a>, it issues a <a href=\"core-ref-p2p-network-privatesend-messages#dsc\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsc</code> message</a>. If a node does not respond to a <a href=\"core-ref-p2p-network-privatesend-messages#dsf\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsf</code> message</a> with signed transaction inputs, it may forfeit the collateral it provided. This is to minimize malicious behavior.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>#</td><td>inputs</td><td>txIn[]</td><td>Required</td><td>Signed inputs for the session</td></tr></tbody></table></div></div>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dss\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dss</code> message</a>. (The message header has been omitted.) Note that these will be the same transaction inputs that were supplied (unsiged) in the <a href=\"core-ref-p2p-network-privatesend-messages#dsi\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dsi</code> message</a>.</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">User inputs\n| 03 ......................................... Number of inputs: 3\n|\n| Transaction input #1\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 02000000 ................................. Outpoint index number: 2\n| |\n| | 6b ....................................... Bytes in sig. script: 107\n| | 483045022100b3a861dca83463aabf5e4a14a286\n| | 1b9c2e51e0dedd8a13552e118bf74eb4a68d0220\n| | 4a91c416768d27e6bdcfa45d28129841dbcc728b\n| | f0bbec9701cfc4e743d23adf812102cc4876c9da\n| | 84417dec37924e0479205ce02529bb0ba88631d3\n| | ccc9cfcdf00173 ........................... Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #2\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0f000000 ................................. Outpoint index number: 15\n| |\n| | 6a ....................................... Bytes in sig. script: 106\n| | 4730440220268f3b7799ca4ec132e511a4756019\n| | c56016f7771561dc0597d84e9b1fa9fc08022067\n| | 5199b9b3f9a7eba69b7bbb4aa2a413d955762f9d\n| | 68be5a9c02c6772c8078fd812103258925f0dbbf\n| | 9d5aa20a675459fa2e86c9f9061dee82a00dca73\n| | 9080f051d891 ............................. Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| Transaction input #3\n| |\n| | 36bdc3796c5630225f2c86c946e2221a\n| | 9958378f5d08da380895c2656730b5c0 ......... Outpoint TXID\n| | 0d000000 ................................. Outpoint index number: 13\n| |\n| | 6a ....................................... Bytes in sig. script: 106\n| | 4730440220404bb067e0c94a2bd75c6798c1af8c\n| | 95e8b92f5e437cff2bcb4660f24a34d06d02203a\n| | b707bd371a84a9e7bd1fbe3b0c939fd23e0a9165\n| | de78809b9310372a4b3879812103a9a6c5204811\n| | a8cab04b595ed622a1fed6efd3b2d888fadd0c97\n| | 3737fcdf2bc7 ............................. Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dssu\"></div><div class=\"heading-text\"><div id=\"section-dssu\" class=\"heading-anchor_backwardsCompatibility\"></div>dssu</div><a aria-label=\"Skip link to dssu\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dssu\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dssu\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dssu</code> message</a> provides a pool status update.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>4</td><td>nMsgSessionID</td><td>int</td><td>Required</td><td>Session ID</td></tr><tr><td>4</td><td>nMsgState</td><td>int</td><td>Required</td><td>Current state of processing</td></tr><tr><td>4</td><td>nMsgEntriesCount</td><td>int</td><td>Required</td><td><strong><em>Deprecated in Dash Core 0.15.0</em></strong><br/><br/>Number of entries in the pool</td></tr><tr><td>4</td><td>nMsgStatusUpdate</td><td>int</td><td>Required</td><td>Update state and/or signal if entry was accepted or not</td></tr><tr><td>4</td><td>nMsgMessageID</td><td>int</td><td>Required</td><td>ID of the typical masternode reply message</td></tr></tbody></table></div></div>\n<p><strong>Pool State</strong></p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>State</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">POOL_STATE_IDLE</code></td></tr><tr><td>1</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">POOL_STATE_QUEUE</code></td></tr><tr><td>2</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">POOL_STATE_ACCEPTING_ENTRIES</code></td></tr><tr><td>3</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">POOL_STATE_SIGNING</code></td></tr><tr><td>4</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">POOL_STATE_ERROR</code></td></tr><tr><td><del>5</del></td><td><del><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">POOL_STATE_SUCCESS</code></del> <strong><em>Deprecated in Dash Core 0.16.0</em></strong></td></tr></tbody></table></div></div>\n<p><strong>Pool Status Update</strong></p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Status</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">STATUS_REJECTED</code></td></tr><tr><td>1</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">STATUS_ACCEPTED</code></td></tr></tbody></table></div></div>\n<p><strong>Message IDs</strong></p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>0x00</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_ALREADY_HAVE</code></td></tr><tr><td>0x01</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_DENOM</code></td></tr><tr><td>0x02</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_ENTRIES_FULL</code></td></tr><tr><td>0x03</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_EXISTING_TX</code></td></tr><tr><td>0x04</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_FEES</code></td></tr><tr><td>0x05</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_INVALID_COLLATERAL</code></td></tr><tr><td>0x06</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_INVALID_INPUT</code></td></tr><tr><td>0x07</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_INVALID_SCRIPT</code></td></tr><tr><td>0x08</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_INVALID_TX</code></td></tr><tr><td>0x09</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_MAXIMUM</code></td></tr><tr><td>0x0A (10)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_MN_LIST</code></td></tr><tr><td>0x0B (11)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_MODE</code></td></tr><tr><td>0x0C (12)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_NON_STANDARD_PUBKEY</code> (Not used)</td></tr><tr><td>0x0D (13)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_NOT_A_MN</code> (Not used)</td></tr><tr><td>0x0E (14)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_QUEUE_FULL</code></td></tr><tr><td>0x0F (15)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_RECENT</code></td></tr><tr><td>0x10 (16)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_SESSION</code></td></tr><tr><td>0x11 (17)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_MISSING_TX</code></td></tr><tr><td>0x12 (18)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_VERSION</code></td></tr><tr><td>0x13 (19)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">MSG_NOERR</code></td></tr><tr><td>0x14 (20)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">MSG_SUCCESS</code></td></tr><tr><td>0x15 (21)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">MSG_ENTRIES_ADDED</code></td></tr><tr><td>0x16 (22)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">ERR_SIZE_MISMATCH</code></td></tr></tbody></table></div></div>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dssu\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dssu</code> message</a>. (The message header has been omitted.)</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">86140c00 ............................. Session ID: 791686\n02000000 ............................. State: POOL_STATE_ACCEPTING_ENTRIES (2)\n01000000 ............................. Status Update: STATUS_ACCEPTED (1)\n13000000 ............................. Message ID: MSG_NOERR (0x13)\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"dstx\"></div><div class=\"heading-text\"><div id=\"section-dstx\" class=\"heading-anchor_backwardsCompatibility\"></div>dstx</div><a aria-label=\"Skip link to dstx\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#dstx\"></a></h1>\n<p>The <a href=\"core-ref-p2p-network-privatesend-messages#dstx\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dstx</code> message</a> allows <span class=\"GlossaryItem-trigger\">masternodes</span> to broadcast subsidized transactions without fees (to provide security in processing).</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Bytes</th><th>Name</th><th>Data type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>#</td><td>tx</td><td><a href=\"core-ref-p2p-network-data-messages#tx\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">tx</code> message</a></td><td>Required</td><td>The transaction</td></tr><tr><td>36</td><td>masternode<br/>OutPoint</td><td>outPoint</td><td>*Required</td><td><strong>* Replaced by <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">proTxHash</code> beginning with protocol version 70226</strong><br/>The unspent outpoint of the masternode (holding 1000 DASH) which is signing the message</td></tr><tr><td>32</td><td>proTxHash</td><td>uint256</td><td>Required</td><td><strong>Added in protocol version 70226.<br/>Replaces <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">masternodeOutPoint</code>.</strong><br/>The ProRegTx hash of the masternode which is signing the message</td></tr><tr><td>97</td><td>vchSig</td><td>char[]</td><td>Required</td><td>BLS Signature of this message by masternode verifiable via pubKeyMasternode (Length (1 byte) + Signature (96 bytes))<br/><strong>Note</strong>: serialized using the basic BLS scheme after Dash 19.0 activation</td></tr><tr><td>8</td><td>sigTime</td><td>int64_t</td><td>Require</td><td>Time this message was signed</td></tr></tbody></table></div></div>\n<p>The following annotated hexdump shows a <a href=\"core-ref-p2p-network-privatesend-messages#dstx\" target=\"\" title=\"\"><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">dstx</code> message</a>. (The message header has been omitted.)</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Text</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-text theme-light\" data-lang=\"text\" name=\"\" tabindex=\"0\">Transaction Message\n| 0200 ....................................... Version: 2\n| 0000 ....................................... Type: 0 (Classical Tx)\n|\n| 05 ......................................... Number of inputs: 5\n|\n| Transaction input #1\n| |\n| | 0adb782b2170018eada54534be880e70\n| | 74ed8307a566731119b1782362af43ad ......... Outpoint TXID\n| | 05000000 ................................. Outpoint index number: 5\n| |\n| | 6b ....................................... Bytes in sig. script: 107\n| | 483045022100b1243fcba562a0f1d7c4\n| | cc3b320645dfa96c6412f368ccdbc1b7\n| | acb6b0aa1db502201606c81b0d79f52f\n| | 47bcb071b64c37f72dd1378efa67a2de\n| | dd86c44d393668fa812102d6ff581270\n| | 632f5e972b0418ee871867b5c04b6eae\n| | 3458ad135ad8f1daaa4fc2 ................... Secp256k1 signature\n| |\n| | ffffffff ................................. Sequence number: UINT32_MAX\n|\n| [...] ...................................... 4 more transaction inputs omitted\n|\n|\n| 05 ......................................... Number of outputs: 5\n|\n| Transaction output #1\n| | 10f19a3b00000000 ......................... Duffs (10.0001000 Dash)\n| |\n| | 19 ....................................... Bytes in pubkey script: 25\n| | | 76 ..................................... OP_DUP\n| | | a9 ..................................... OP_HASH160\n| | | 14 ..................................... Push 20 bytes as data\n| | | | 3eb7ae776b096231de9eca42dd57a677\n| | | | d3b05452 ............................. PubKey hash\n| | | 88 ..................................... OP_EQUALVERIFY\n| | | ac ..................................... OP_CHECKSIG\n|\n| [...] ...................................... 4 more transaction outputs omitted\n|\n|\n| 00000000 ................................... locktime: 0 (a block height)\n\nMasternode Unspent Outpoint\n| ccfbe4e7c220264cb0a8bfa5e91c6957\n| 33c255384790e80e891a0d8f56a59d9e ......... Outpoint TXID\n| 01000000 ................................. Outpoint index number: 1\n\n60 ......................................... Signature length: 96\n\n94c8e427f448789f58cda17445e76c64\nd0efa7c089addcb378f9b8d04b72f499\na4e8e616b5011886b9cffcce29e17fc1\n10ad8609c3ee1a3207b882e7ff58400f\n42d6e6544108b349da2cc5e716a5f266\n4a2dc96b0f080effd5349f2ae06ac234 .......... Masternode Signature\n\n59b4235c00000000 .......................... Sig Time: 2018-12-26 17:03:21 UTC\n</code></pre></div></div>"
}