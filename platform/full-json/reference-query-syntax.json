{
 "metadata": {
  "keywords": "",
  "robots": "index",
  "description": "",
  "title": "",
  "image": []
 },
 "mdx": {
  "altBody": "",
  "status": "rdmd"
 },
 "api": {
  "results": {
   "codes": [
    {
     "status": 200,
     "language": "json",
     "code": "{}",
     "name": ""
    },
    {
     "status": 400,
     "language": "json",
     "code": "{}",
     "name": ""
    }
   ]
  },
  "auth": "required",
  "params": [],
  "url": "",
  "method": "get"
 },
 "next": {
  "pages": [],
  "description": ""
 },
 "algolia": {
  "translationFailure": false,
  "publishPending": false,
  "recordCount": 11,
  "updatedAt": "2023-09-06T16:36:40.274Z"
 },
 "reusableContent": [],
 "_id": "64f8a9df750465004742adac",
 "version": "64f8a9df750465004742ae1d",
 "project": "5bda01cad172e200499a20a9",
 "user": "5b8400d7185d5e00036dcc3b",
 "category": "64f8a9df750465004742ad70",
 "updates": [
  "5e162ddcfe1f09001806494b",
  "600f19bc59b27e0018b8b446",
  "600f1a1b77276400122b924b",
  "600f20a574e76300449ba946",
  "61ad3870f1fc3c0225e61b22",
  "629efc4fd4b057009aca612d"
 ],
 "updatedAt": "2023-02-20T13:37:35.547Z",
 "createdAt": "2020-01-07T13:44:04.059Z",
 "link_external": false,
 "link_url": "",
 "sync_unique": "",
 "hidden": false,
 "isReference": false,
 "order": 1,
 "body": "# Overview\n\nGenerally queries will consist of a `where` clause plus optional [modifiers](#query-modifiers) controlling the specific subset of results returned. \n\n> \ud83d\udea7 Query limitations\n>\n> Dash Platform v0.22 introduced a number of limitations due to the switch to using [GroveDB](https://github.com/dashevo/grovedb). See details in pull requests [77](https://github.com/dashevo/platform/pull/77) and [230](https://github.com/dashevo/platform/pull/230) that implemented these changes.\n>\n> Query validation details may be found [here](https://github.com/dashevo/platform/blob/master/packages/js-drive/lib/document/query/validateQueryFactory.js) along with the associated validation [tests](https://github.com/dashevo/platform/blob/master/packages/js-drive/test/unit/document/query/validateQueryFactory.spec.js).\n\n# Where Clause\n\nThe Where clause must be a non-empty array containing not more than 10 conditions. For some operators, `value` will be an array. See the following general syntax example:\n\n>\u2757\ufe0f\n>\n> As of Dash Platform v0.22, _all fields_ referenced in a query's where clause must be defined in the _same index_. This includes `$createdAt` and `$updatedAt`.\n\n```json Syntax\n{\n  where: [\n    [<fieldName>, <operator>, <value>],\n    [<fieldName>, <array operator>, [<value1>, <value2>]] \n  ] \n}\n``` \n\n## Fields\n\nValid fields consist of the indices defined for the document being queried. For example, the [DPNS data contract](https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json) defines three indices:\n\n| Index Field(s) | Index Type | Unique |\n| - | - | :-: | \n| [normalizedParentDomainName, normalizedLabel](https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json#L5-L16) | Compound | Yes |\n| [records.dashUniqueIdentityId](https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json#L17-L25) | Single Field | Yes |\n| [records.dashAliasIdentityId](https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json#L26-L33) | Single Field | No |\n\n[block:html]\n{\n  \"html\": \"<div></div>\\n<!--\\nSpecial fields - `$id`, `$userId`\\n-->\\n<style></style>\"\n}\n[/block]\n\n## Comparison Operators\n\n### Equal\n\n| Name | Description |\n| :-: | - |\n| == | Matches values that are equal to a specified value |\n\n### Range\n\n> \ud83d\udea7 Dash Platform v0.22 notes\n>\n> - Only one range operator is allowed in a query (except for between behavior)\n> - The `in` operator is only allowed for last two indexed properties\n> - Range operators are only allowed after `==` and `in` operators\n> - Range operators are only allowed for the last two fields used in the where condition\n> - Queries using range operators must also include an `orderBy` statement\n\n| Name | Description |\n| :-: | - |\n| < | Matches values that are less than a specified value |\n| <= | Matches values that are less than or equal to a specified value |\n| >= | Matches values that are greater than or equal to a specified value |\n| > | Matches values that are greater than a specified value |\n| in | Matches all document(s) where the value of the field equals any value in the specified array <br>Array may include up to 100 (unique) elements |\n\n## Array Operators\n\n| Name | Description |\n| :-: | - |\n| length | **Not available in Dash Platform v0.22**<br>Selects documents if the array field is a specified size (integer) |\n| contains | **Not available in Dash Platform v0.22**<br>- Matches arrays that contain all elements specified in the query condition array <br>- 100 element maximum\n| elementMatch |  **Not available in Dash Platform v0.22**<br>- Matches documents that contain an array field with at least one element that matches all the criteria in the query condition array <br>- Two or more conditions must be provided\n\n## Evaluation Operators\n\n| Name | Description |\n| :-: | - |\n| startsWith | Selects documents where the value of a field begins with the specified characters (string, <= 255 characters). Must include an `orderBy` statement. |\n\n## Operator Examples\n\n```json <\n{\n  where: [\n    ['nameHash', '<', '56116861626961756e6176657a382e64617368'],\n  ],\n}\n```\n```json in\n{\n  where: [\n      ['normalizedParentDomainName', '==', 'dash'],\n      // Return all matching names from the provided array\n      ['normalizedLabel', 'in', ['alice', 'bob']],\n    ]\n}\n```\n```json startsWith\n{\n  where: [\n      ['normalizedParentDomainName', '==', 'dash'],\n      // Return any names beginning with \"al\" (e.g. alice, alfred)\n      ['normalizedLabel', 'startsWith', 'al'],\n    ]\n}\n```\n```json length\n// Not available in Dash Platform v0.22\n// See https://github.com/dashevo/platform/pull/77\n{\n  where: [\n      // Return documents that have 5 values in their `items` array\n      ['items', 'length', 5],\n    ]\n}\n```\n```json contains\n// Not available in Dash Platform v0.22\n// See https://github.com/dashevo/platform/pull/77\n{\n  where: [\n      // Return documents that have both \"red\" and \"blue\" \n      // in the `colors` array\n      ['colors', 'contains', ['red', 'blue']],\n    ]\n}\n```\n```json elementMatch\n// Not available in Dash Platform v0.22\n// See https://github.com/dashevo/platform/pull/77\n{\n  where: [\n    // Return `scores` documents where the results contain \n    // elements in the range 80-90\n    ['scores', 'elementMatch',\n      [\n        ['results', '>=', '80'],\n        ['results', '<=', '90']\n      ],\n    ],\n  ]\n}\n```\n\n# Query Modifiers\nThe query modifiers described here determine how query results will be sorted and what subset of data matching the query will be returned.\n\n>\u2757\ufe0f Breaking changes\n>\n> Starting with Dash Platform v0.22, `startAt` and `startAfter` must be provided with a document ID rather than an integer.\n\n| Modifier | Effect | Example |\n| - | - | - |\n| `limit` | Restricts the number of results returned (maximum: 100) | `limit: 10` |\n| `orderBy` | Returns records sorted by the field(s) provided (maximum: 2). Sorting must be by the last indexed property. Can only be used with `>`, `<`, `>=`, `<=`, and `startsWith` queries. | `orderBy: [['normalizedLabel', 'asc']]`\n| `startAt` | Returns records beginning with the document ID provided | `startAt: Buffer.from(Identifier.from(<document ID>))` |\n| `startAfter` | Returns records beginning after the document ID provided | `startAfter: Buffer.from(Identifier.from(<document ID>))` |\n\n> \ud83d\udea7 Compound Index Constraints\n>\n> For indices composed of multiple fields ([example from the DPNS data contract](https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json)), the sort order in an `orderBy` must either match the order defined in the data contract OR be the inverse order.\n>\n> Please refer to [pull request 230](https://github.com/dashevo/platform/pull/230) for additional information related to compound index constraints in Platform v0.22.\n\n# Example query\nThe following query combines both a where clause and query modifiers.\n\n```javascript\nimport Dash from \"dash\"\n\nconst { Essentials: { Buffer }, PlatformProtocol: { Identifier } } = Dash;\n\nconst query = {\n  limit: 5,\n  startAt: Buffer.from(Identifier.from('4Qp3menV9QjE92hc3BzkUCusAmHLxh1AU6gsVsPF4L2q')),\n  where: [\n    ['normalizedParentDomainName', '==', 'dash'],\n    ['normalizedLabel', 'startsWith', 'test'],\n  ],\n  orderBy: [\n    ['normalizedLabel', 'asc'],\n  ],\n}\n```",
 "excerpt": "",
 "slug": "reference-query-syntax",
 "type": "basic",
 "title": "Query Syntax",
 "__v": 6,
 "parentDoc": null,
 "pendingAlgoliaPublish": false,
 "previousSlug": "",
 "slugUpdatedAt": "2020-10-28T05:49:05.115Z",
 "deprecated": false,
 "icon": "",
 "revision": 9,
 "isApi": false,
 "id": "64f8a9df750465004742adac",
 "body_html": "<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"overview\"></div><div class=\"heading-text\"><div id=\"section-overview\" class=\"heading-anchor_backwardsCompatibility\"></div>Overview</div><a aria-label=\"Skip link to Overview\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#overview\"></a></h1>\n<p>Generally queries will consist of a <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">where</code> clause plus optional <a href=\"#query-modifiers\" target=\"\" title=\"\">modifiers</a> controlling the specific subset of results returned.</p>\n<blockquote class=\"callout callout_warn\" theme=\"\ud83d\udea7\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">\ud83d\udea7</span><p>Query limitations</p></h2><p>Dash Platform v0.22 introduced a number of limitations due to the switch to using <a href=\"https://github.com/dashevo/grovedb\" target=\"\" title=\"\">GroveDB</a>. See details in pull requests <a href=\"https://github.com/dashevo/platform/pull/77\" target=\"\" title=\"\">77</a> and <a href=\"https://github.com/dashevo/platform/pull/230\" target=\"\" title=\"\">230</a> that implemented these changes.</p><p>Query validation details may be found <a href=\"https://github.com/dashevo/platform/blob/master/packages/js-drive/lib/document/query/validateQueryFactory.js\" target=\"\" title=\"\">here</a> along with the associated validation <a href=\"https://github.com/dashevo/platform/blob/master/packages/js-drive/test/unit/document/query/validateQueryFactory.spec.js\" target=\"\" title=\"\">tests</a>.</p></blockquote>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"where-clause\"></div><div class=\"heading-text\"><div id=\"section-where-clause\" class=\"heading-anchor_backwardsCompatibility\"></div>Where Clause</div><a aria-label=\"Skip link to Where Clause\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#where-clause\"></a></h1>\n<p>The Where clause must be a non-empty array containing not more than 10 conditions. For some operators, <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">value</code> will be an array. See the following general syntax example:</p>\n<blockquote class=\"callout callout_error\" theme=\"\u2757\ufe0f\"><h2 class=\"callout-heading empty\"><span class=\"callout-icon\">\u2757\ufe0f</span></h2><p>As of Dash Platform v0.22, <em>all fields</em> referenced in a query&#x27;s where clause must be defined in the <em>same index</em>. This includes <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">$createdAt</code> and <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">$updatedAt</code>.</p></blockquote>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">Syntax</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-json theme-light\" data-lang=\"json\" name=\"Syntax\" tabindex=\"0\">{\n  where: [\n    [&lt;fieldName&gt;, &lt;operator&gt;, &lt;value&gt;],\n    [&lt;fieldName&gt;, &lt;array operator&gt;, [&lt;value1&gt;, &lt;value2&gt;]] \n  ] \n}\n</code></pre></div></div>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"fields\"></div><div class=\"heading-text\"><div id=\"section-fields\" class=\"heading-anchor_backwardsCompatibility\"></div>Fields</div><a aria-label=\"Skip link to Fields\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#fields\"></a></h2>\n<p>Valid fields consist of the indices defined for the document being queried. For example, the <a href=\"https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json\" target=\"\" title=\"\">DPNS data contract</a> defines three indices:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Index Field(s)</th><th>Index Type</th><th style=\"text-align:center\">Unique</th></tr></thead><tbody><tr><td><a href=\"https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json#L5-L16\" target=\"\" title=\"\">normalizedParentDomainName, normalizedLabel</a></td><td>Compound</td><td style=\"text-align:center\">Yes</td></tr><tr><td><a href=\"https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json#L17-L25\" target=\"\" title=\"\">records.dashUniqueIdentityId</a></td><td>Single Field</td><td style=\"text-align:center\">Yes</td></tr><tr><td><a href=\"https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json#L26-L33\" target=\"\" title=\"\">records.dashAliasIdentityId</a></td><td>Single Field</td><td style=\"text-align:center\">No</td></tr></tbody></table></div></div>\n<p>[block:html]<br/>\n{<br/>\n&quot;html&quot;: &quot;</p><div></div>\\n\\n<style></style>&quot;<br/>\n}<br/>\n[/block]<p></p>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"comparison-operators\"></div><div class=\"heading-text\"><div id=\"section-comparison-operators\" class=\"heading-anchor_backwardsCompatibility\"></div>Comparison Operators</div><a aria-label=\"Skip link to Comparison Operators\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#comparison-operators\"></a></h2>\n<h3 class=\"heading heading-3 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"equal\"></div><div class=\"heading-text\"><div id=\"section-equal\" class=\"heading-anchor_backwardsCompatibility\"></div>Equal</div><a aria-label=\"Skip link to Equal\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#equal\"></a></h3>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th style=\"text-align:center\">Name</th><th>Description</th></tr></thead><tbody><tr><td style=\"text-align:center\">==</td><td>Matches values that are equal to a specified value</td></tr></tbody></table></div></div>\n<h3 class=\"heading heading-3 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"range\"></div><div class=\"heading-text\"><div id=\"section-range\" class=\"heading-anchor_backwardsCompatibility\"></div>Range</div><a aria-label=\"Skip link to Range\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#range\"></a></h3>\n<blockquote class=\"callout callout_warn\" theme=\"\ud83d\udea7\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">\ud83d\udea7</span><p>Dash Platform v0.22 notes</p></h2><ul>\n<li>Only one range operator is allowed in a query (except for between behavior)</li>\n<li>The <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">in</code> operator is only allowed for last two indexed properties</li>\n<li>Range operators are only allowed after <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">==</code> and <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">in</code> operators</li>\n<li>Range operators are only allowed for the last two fields used in the where condition</li>\n<li>Queries using range operators must also include an <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">orderBy</code> statement</li>\n</ul></blockquote>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th style=\"text-align:center\">Name</th><th>Description</th></tr></thead><tbody><tr><td style=\"text-align:center\">&lt;</td><td>Matches values that are less than a specified value</td></tr><tr><td style=\"text-align:center\">&lt;=</td><td>Matches values that are less than or equal to a specified value</td></tr><tr><td style=\"text-align:center\">&gt;=</td><td>Matches values that are greater than or equal to a specified value</td></tr><tr><td style=\"text-align:center\">&gt;</td><td>Matches values that are greater than a specified value</td></tr><tr><td style=\"text-align:center\">in</td><td>Matches all document(s) where the value of the field equals any value in the specified array <br/>Array may include up to 100 (unique) elements</td></tr></tbody></table></div></div>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"array-operators\"></div><div class=\"heading-text\"><div id=\"section-array-operators\" class=\"heading-anchor_backwardsCompatibility\"></div>Array Operators</div><a aria-label=\"Skip link to Array Operators\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#array-operators\"></a></h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th style=\"text-align:center\">Name</th><th>Description</th></tr></thead><tbody><tr><td style=\"text-align:center\">length</td><td><strong>Not available in Dash Platform v0.22</strong><br/>Selects documents if the array field is a specified size (integer)</td></tr><tr><td style=\"text-align:center\">contains</td><td><strong>Not available in Dash Platform v0.22</strong><br/>- Matches arrays that contain all elements specified in the query condition array <br/>- 100 element maximum</td></tr><tr><td style=\"text-align:center\">elementMatch</td><td><strong>Not available in Dash Platform v0.22</strong><br/>- Matches documents that contain an array field with at least one element that matches all the criteria in the query condition array <br/>- Two or more conditions must be provided</td></tr></tbody></table></div></div>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"evaluation-operators\"></div><div class=\"heading-text\"><div id=\"section-evaluation-operators\" class=\"heading-anchor_backwardsCompatibility\"></div>Evaluation Operators</div><a aria-label=\"Skip link to Evaluation Operators\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#evaluation-operators\"></a></h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th style=\"text-align:center\">Name</th><th>Description</th></tr></thead><tbody><tr><td style=\"text-align:center\">startsWith</td><td>Selects documents where the value of a field begins with the specified characters (string, &lt;= 255 characters). Must include an <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">orderBy</code> statement.</td></tr></tbody></table></div></div>\n<h2 class=\"heading heading-2 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"operator-examples\"></div><div class=\"heading-text\"><div id=\"section-operator-examples\" class=\"heading-anchor_backwardsCompatibility\"></div>Operator Examples</div><a aria-label=\"Skip link to Operator Examples\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#operator-examples\"></a></h2>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">&lt;</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-json theme-light\" data-lang=\"json\" name=\"&lt;\" tabindex=\"0\">{\n  where: [\n    [&#x27;nameHash&#x27;, &#x27;&lt;&#x27;, &#x27;56116861626961756e6176657a382e64617368&#x27;],\n  ],\n}\n</code></pre></div></div>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">in</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-json theme-light\" data-lang=\"json\" name=\"in\" tabindex=\"0\">{\n  where: [\n      [&#x27;normalizedParentDomainName&#x27;, &#x27;==&#x27;, &#x27;dash&#x27;],\n      // Return all matching names from the provided array\n      [&#x27;normalizedLabel&#x27;, &#x27;in&#x27;, [&#x27;alice&#x27;, &#x27;bob&#x27;]],\n    ]\n}\n</code></pre></div></div>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">startsWith</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-json theme-light\" data-lang=\"json\" name=\"startsWith\" tabindex=\"0\">{\n  where: [\n      [&#x27;normalizedParentDomainName&#x27;, &#x27;==&#x27;, &#x27;dash&#x27;],\n      // Return any names beginning with &quot;al&quot; (e.g. alice, alfred)\n      [&#x27;normalizedLabel&#x27;, &#x27;startsWith&#x27;, &#x27;al&#x27;],\n    ]\n}\n</code></pre></div></div>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">length</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-json theme-light\" data-lang=\"json\" name=\"length\" tabindex=\"0\">// Not available in Dash Platform v0.22\n// See https://github.com/dashevo/platform/pull/77\n{\n  where: [\n      // Return documents that have 5 values in their `items` array\n      [&#x27;items&#x27;, &#x27;length&#x27;, 5],\n    ]\n}\n</code></pre></div></div>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">contains</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-json theme-light\" data-lang=\"json\" name=\"contains\" tabindex=\"0\">// Not available in Dash Platform v0.22\n// See https://github.com/dashevo/platform/pull/77\n{\n  where: [\n      // Return documents that have both &quot;red&quot; and &quot;blue&quot; \n      // in the `colors` array\n      [&#x27;colors&#x27;, &#x27;contains&#x27;, [&#x27;red&#x27;, &#x27;blue&#x27;]],\n    ]\n}\n</code></pre></div></div>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">elementMatch</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-json theme-light\" data-lang=\"json\" name=\"elementMatch\" tabindex=\"0\">// Not available in Dash Platform v0.22\n// See https://github.com/dashevo/platform/pull/77\n{\n  where: [\n    // Return `scores` documents where the results contain \n    // elements in the range 80-90\n    [&#x27;scores&#x27;, &#x27;elementMatch&#x27;,\n      [\n        [&#x27;results&#x27;, &#x27;&gt;=&#x27;, &#x27;80&#x27;],\n        [&#x27;results&#x27;, &#x27;&lt;=&#x27;, &#x27;90&#x27;]\n      ],\n    ],\n  ]\n}\n</code></pre></div></div>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"query-modifiers\"></div><div class=\"heading-text\"><div id=\"section-query-modifiers\" class=\"heading-anchor_backwardsCompatibility\"></div>Query Modifiers</div><a aria-label=\"Skip link to Query Modifiers\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#query-modifiers\"></a></h1>\n<p>The query modifiers described here determine how query results will be sorted and what subset of data matching the query will be returned.</p>\n<blockquote class=\"callout callout_error\" theme=\"\u2757\ufe0f\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">\u2757\ufe0f</span><p>Breaking changes</p></h2><p>Starting with Dash Platform v0.22, <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">startAt</code> and <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">startAfter</code> must be provided with a document ID rather than an integer.</p></blockquote>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<div class=\"rdmd-table\"><div class=\"rdmd-table-inner\"><table><thead><tr><th>Modifier</th><th>Effect</th><th>Example</th></tr></thead><tbody><tr><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">limit</code></td><td>Restricts the number of results returned (maximum: 100)</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">limit: 10</code></td></tr><tr><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">orderBy</code></td><td>Returns records sorted by the field(s) provided (maximum: 2). Sorting must be by the last indexed property. Can only be used with <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">&gt;</code>, <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">&lt;</code>, <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">&gt;=</code>, <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">&lt;=</code>, and <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">startsWith</code> queries.</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">orderBy: [[&#x27;normalizedLabel&#x27;, &#x27;asc&#x27;]]</code></td></tr><tr><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">startAt</code></td><td>Returns records beginning with the document ID provided</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">startAt: Buffer.from(Identifier.from(&lt;document ID&gt;))</code></td></tr><tr><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">startAfter</code></td><td>Returns records beginning after the document ID provided</td><td><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">startAfter: Buffer.from(Identifier.from(&lt;document ID&gt;))</code></td></tr></tbody></table></div></div>\n<blockquote class=\"callout callout_warn\" theme=\"\ud83d\udea7\"><h2 class=\"callout-heading\"><span class=\"callout-icon\">\ud83d\udea7</span><p>Compound Index Constraints</p></h2><p>For indices composed of multiple fields (<a href=\"https://github.com/dashevo/platform/blob/master/packages/dpns-contract/schema/dpns-contract-documents.json\" target=\"\" title=\"\">example from the DPNS data contract</a>), the sort order in an <button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang- theme-light\" data-lang=\"\" name=\"\" tabindex=\"0\">orderBy</code> must either match the order defined in the data contract OR be the inverse order.</p><p>Please refer to <a href=\"https://github.com/dashevo/platform/pull/230\" target=\"\" title=\"\">pull request 230</a> for additional information related to compound index constraints in Platform v0.22.</p></blockquote>\n<h1 class=\"heading heading-1 header-scroll\" align=\"\"><div class=\"heading-anchor anchor waypoint\" id=\"example-query\"></div><div class=\"heading-text\"><div id=\"section-example-query\" class=\"heading-anchor_backwardsCompatibility\"></div>Example query</div><a aria-label=\"Skip link to Example query\" class=\"heading-anchor-icon fa fa-anchor\" href=\"#example-query\"></a></h1>\n<p>The following query combines both a where clause and query modifiers.</p>\n<div class=\"CodeTabs CodeTabs_initial theme-light\"><div class=\"CodeTabs-toolbar\" role=\"tablist\"><button aria-selected=\"true\" class=\"CodeTabs_active\" role=\"tab\" type=\"button\">JavaScript</button></div><div class=\"CodeTabs-inner\" role=\"tabpanel\"><pre><button aria-label=\"Copy Code\" class=\"rdmd-code-copy fa\"></button><code class=\"rdmd-code lang-javascript theme-light\" data-lang=\"javascript\" name=\"\" tabindex=\"0\">import Dash from &quot;dash&quot;\n\nconst { Essentials: { Buffer }, PlatformProtocol: { Identifier } } = Dash;\n\nconst query = {\n  limit: 5,\n  startAt: Buffer.from(Identifier.from(&#x27;4Qp3menV9QjE92hc3BzkUCusAmHLxh1AU6gsVsPF4L2q&#x27;)),\n  where: [\n    [&#x27;normalizedParentDomainName&#x27;, &#x27;==&#x27;, &#x27;dash&#x27;],\n    [&#x27;normalizedLabel&#x27;, &#x27;startsWith&#x27;, &#x27;test&#x27;],\n  ],\n  orderBy: [\n    [&#x27;normalizedLabel&#x27;, &#x27;asc&#x27;],\n  ],\n}\n</code></pre></div></div>"
}