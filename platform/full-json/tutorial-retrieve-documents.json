{
 "metadata": {
  "image": [],
  "title": "",
  "description": "",
  "keywords": "",
  "robots": "index"
 },
 "api": {
  "method": "get",
  "url": "",
  "auth": "required",
  "results": {
   "codes": [
    {
     "status": 200,
     "language": "json",
     "code": "{}",
     "name": ""
    },
    {
     "status": 400,
     "language": "json",
     "code": "{}",
     "name": ""
    }
   ]
  },
  "params": [],
  "examples": {
   "codes": []
  }
 },
 "next": {
  "description": "",
  "pages": [
   {
    "type": "doc",
    "icon": "file-text-o",
    "name": "Update Documents",
    "slug": "tutorial-update-documents",
    "category": "Tutorials"
   },
   {
    "type": "doc",
    "icon": "file-text-o",
    "name": "Delete Documents",
    "slug": "tutorial-delete-documents",
    "category": "Tutorials"
   }
  ]
 },
 "algolia": {
  "recordCount": 6,
  "publishPending": false,
  "translationFailure": false,
  "updatedAt": "2023-09-12T13:19:14.700Z"
 },
 "title": "Retrieve Documents",
 "icon": "",
 "updates": [
  "5e1396e7516ae8002e0054da",
  "5f2cffbcf04e9a005fc43d44"
 ],
 "type": "basic",
 "slug": "tutorial-retrieve-documents",
 "excerpt": "Retrieve data from Dash Platform",
 "body": "# Overview\n\nIn this tutorial we will retrieve some of the current data from a data contract. Data is stored in the form of documents as described in the Dash Platform Protocol [Document explanation](explanation-platform-protocol-document).\n\n## Prerequisites\n\n- [General prerequisites](tutorials-introduction#prerequisites) (Node.js / Dash SDK installed)\n- A Dash Platform Contract ID: [Tutorial: Register a Data Contract](tutorial-register-a-data-contract) \n\n# Code\n\n```javascript\nconst Dash = require('dash');\n\nconst clientOpts = {\n  network: 'testnet',\n  apps: {\n    tutorialContract: {\n      contractId: '8cvMFwa2YbEsNNoc1PXfTacy2PVq2SzVnkZLeQSzjfi6',\n    },\n  },\n};\nconst client = new Dash.Client(clientOpts);\n\nconst getDocuments = async () => {\n  return client.platform.documents.get('tutorialContract.note', {\n    limit: 2, // Only retrieve 2 document\n  });\n};\n\ngetDocuments()\n  .then((d) => {\n    for (const n of d) {\n      console.log('Document:\\n', n.toJSON());\n    }\n  })\n  .catch((e) => console.error('Something went wrong:\\n', e))\n  .finally(() => client.disconnect());\n```\n\n> \ud83d\udc4d Initializing the Client with a contract identity\n> \n> The example above shows how access to contract documents via `<contract name>.<contract document>` syntax (e.g. `tutorialContract.note`) can be enabled by passing a contract identity to the constructor. Please refer to the [Dash SDK documentation](https://github.com/dashevo/platform/blob/master/packages/js-dash-sdk/docs/getting-started/multiple-apps.md) for details.\n\n## Queries\n\nThe example code uses a very basic query to return only one result. More extensive querying capabilities are covered in the [query syntax reference](reference-query-syntax).\n\n# Example Document\n\nThe following examples show the structure of a `note` document (from the data contract registered in the tutorial) returned from the SDK when retrieved with various methods. \n\nThe values returned by `.toJSON()` include the base document properties (prefixed with `$`) present in all documents along with the data contract defined properties.\n\n> \ud83d\udcd8 \n> \n> Note: When using `.toJSON()`, binary data is displayed as a base64 string (since JSON is a text-based format).\n\nThe values returned by `.getData()` (and also shown in the console.dir() `data` property) represent _only_ the properties defined in the `note` document described by the [tutorial data contract](tutorial-register-a-data-contract#code).\n\n```json .toJSON()\n{\n  \"$protocolVersion\": 0,\n  \"$id\": \"6LpCQhkXYV2vqkv1UWByew4xQ6BaxxnGkhfMZsN3SV9u\",\n  \"$type\": \"note\",\n  \"$dataContractId\": \"3iaEhdyAVbmSjd59CT6SCrqPjfAfMdPTc8ksydgqSaWE\",\n  \"$ownerId\": \"CEPMcuBgAWeaCXiP2gJJaStANRHW6b158UPvL1C8zw2W\",\n  \"$revision\": 1,\n  \"message\": \"Tutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT\"\n}\n```\n```json .getData()\n{\n  \"Tutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT\"\n}\n```\n```text .data.message\nTutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT\n```\n```json console.dir(document)\nDocument {\n  dataContract: DataContract {\n    protocolVersion: 0,\n    id: Identifier(32) [Uint8Array] [\n       40,  93, 196, 112,  38, 188,  51, 122,\n      149,  59,  21,  39, 147, 119,  87,  53,\n      236,  60,  97,  42,  31,  82, 135, 120,\n       68, 188,  55, 153, 226, 198, 181, 139\n    ],\n    ownerId: Identifier(32) [Uint8Array] [\n      166, 222,  98,  87, 193,  19,  82,  37,\n       50, 118, 210,  64, 103, 122,  28, 155,\n      168,  21, 198, 134, 142, 151, 153, 136,\n       46,  64, 223,  74, 215, 153, 158, 167\n    ],\n    schema: 'https://schema.dash.org/dpp-0-4-0/meta/data-contract',\n    documents: { note: [Object] },\n    '$defs': undefined,\n    binaryProperties: { note: {} },\n    metadata: Metadata { blockHeight: 526, coreChainLockedHeight: 542795 }\n  },\n  entropy: undefined,\n  protocolVersion: 0,\n  id: Identifier(32) [Uint8Array] [\n     79,  93, 213, 226,  76,  79, 205, 191,\n    165, 190,  68,  28,   8,  83,  61, 226,\n    222, 248,  48, 235, 147, 110, 181, 229,\n      7,  66,  65, 230, 100, 194, 192, 156\n  ],\n  type: 'note',\n  dataContractId: Identifier(32) [Uint8Array] [\n     40,  93, 196, 112,  38, 188,  51, 122,\n    149,  59,  21,  39, 147, 119,  87,  53,\n    236,  60,  97,  42,  31,  82, 135, 120,\n     68, 188,  55, 153, 226, 198, 181, 139\n  ],\n  ownerId: Identifier(32) [Uint8Array] [\n    166, 222,  98,  87, 193,  19,  82,  37,\n     50, 118, 210,  64, 103, 122,  28, 155,\n    168,  21, 198, 134, 142, 151, 153, 136,\n     46,  64, 223,  74, 215, 153, 158, 167\n  ],\n  revision: 1,\n  data: { message: 'Tutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT' },\n  metadata: Metadata { blockHeight: 526, coreChainLockedHeight: 542795 }\n}\n```\n\n# What's happening\n\nAfter we initialize the Client, we request some documents. The `client.platform.documents.get` method takes two arguments: a record locator and a query object. The records locator consists of an app name (e.g. `tutorialContract`) and the top-level document type requested, (e.g. `note`).\n\n> \ud83d\udcd8 DPNS Contract\n> \n> Note: Access to the DPNS contract is built into the Dash SDK. DPNS documents may be accessed via the `dpns` app name (e.g. `dpns.domain`).\n\nIf you need more than the first 100 documents, you'll have to make additional requests with `startAt` incremented by 100 each time. In the future, the Dash SDK may return documents with paging information to make this easier and reveal how many documents are returned in total.",
 "order": 4,
 "isReference": false,
 "deprecated": false,
 "hidden": false,
 "sync_unique": "",
 "link_url": "",
 "link_external": false,
 "reusableContent": [],
 "previousSlug": "",
 "slugUpdatedAt": "2020-07-22T19:28:34.026Z",
 "revision": 6,
 "_id": "64f8a9df750465004742ad97",
 "version": "64f8a9df750465004742ae1d",
 "updatedAt": "2023-09-12T13:19:14.503Z",
 "createdAt": "2019-11-05T13:49:33.553Z",
 "project": "5bda01cad172e200499a20a9",
 "user": "5b8400d7185d5e00036dcc3b",
 "category": "64f8a9df750465004742ad6e",
 "__v": 3,
 "parentDoc": "64f8a9df750465004742adc8",
 "pendingAlgoliaPublish": false,
 "isApi": false,
 "id": "64f8a9df750465004742ad97",
 "body_html": "# Overview\n\nIn this tutorial we will retrieve some of the current data from a data contract. Data is stored in the form of documents as described in the Dash Platform Protocol [Document explanation](explanation-platform-protocol-document).\n\n## Prerequisites\n\n- [General prerequisites](tutorials-introduction#prerequisites) (Node.js / Dash SDK installed)\n- A Dash Platform Contract ID: [Tutorial: Register a Data Contract](tutorial-register-a-data-contract) \n\n# Code\n\n```javascript\nconst Dash = require('dash');\n\nconst clientOpts = {\n  network: 'testnet',\n  apps: {\n    tutorialContract: {\n      contractId: '8cvMFwa2YbEsNNoc1PXfTacy2PVq2SzVnkZLeQSzjfi6',\n    },\n  },\n};\nconst client = new Dash.Client(clientOpts);\n\nconst getDocuments = async () => {\n  return client.platform.documents.get('tutorialContract.note', {\n    limit: 2, // Only retrieve 2 document\n  });\n};\n\ngetDocuments()\n  .then((d) => {\n    for (const n of d) {\n      console.log('Document:\\n', n.toJSON());\n    }\n  })\n  .catch((e) => console.error('Something went wrong:\\n', e))\n  .finally(() => client.disconnect());\n```\n\n> \ud83d\udc4d Initializing the Client with a contract identity\n> \n> The example above shows how access to contract documents via `<contract name>.<contract document>` syntax (e.g. `tutorialContract.note`) can be enabled by passing a contract identity to the constructor. Please refer to the [Dash SDK documentation](https://github.com/dashevo/platform/blob/master/packages/js-dash-sdk/docs/getting-started/multiple-apps.md) for details.\n\n## Queries\n\nThe example code uses a very basic query to return only one result. More extensive querying capabilities are covered in the [query syntax reference](reference-query-syntax).\n\n# Example Document\n\nThe following examples show the structure of a `note` document (from the data contract registered in the tutorial) returned from the SDK when retrieved with various methods. \n\nThe values returned by `.toJSON()` include the base document properties (prefixed with `$`) present in all documents along with the data contract defined properties.\n\n> \ud83d\udcd8 \n> \n> Note: When using `.toJSON()`, binary data is displayed as a base64 string (since JSON is a text-based format).\n\nThe values returned by `.getData()` (and also shown in the console.dir() `data` property) represent _only_ the properties defined in the `note` document described by the [tutorial data contract](tutorial-register-a-data-contract#code).\n\n```json .toJSON()\n{\n  \"$protocolVersion\": 0,\n  \"$id\": \"6LpCQhkXYV2vqkv1UWByew4xQ6BaxxnGkhfMZsN3SV9u\",\n  \"$type\": \"note\",\n  \"$dataContractId\": \"3iaEhdyAVbmSjd59CT6SCrqPjfAfMdPTc8ksydgqSaWE\",\n  \"$ownerId\": \"CEPMcuBgAWeaCXiP2gJJaStANRHW6b158UPvL1C8zw2W\",\n  \"$revision\": 1,\n  \"message\": \"Tutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT\"\n}\n```\n```json .getData()\n{\n  \"Tutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT\"\n}\n```\n```text .data.message\nTutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT\n```\n```json console.dir(document)\nDocument {\n  dataContract: DataContract {\n    protocolVersion: 0,\n    id: Identifier(32) [Uint8Array] [\n       40,  93, 196, 112,  38, 188,  51, 122,\n      149,  59,  21,  39, 147, 119,  87,  53,\n      236,  60,  97,  42,  31,  82, 135, 120,\n       68, 188,  55, 153, 226, 198, 181, 139\n    ],\n    ownerId: Identifier(32) [Uint8Array] [\n      166, 222,  98,  87, 193,  19,  82,  37,\n       50, 118, 210,  64, 103, 122,  28, 155,\n      168,  21, 198, 134, 142, 151, 153, 136,\n       46,  64, 223,  74, 215, 153, 158, 167\n    ],\n    schema: 'https://schema.dash.org/dpp-0-4-0/meta/data-contract',\n    documents: { note: [Object] },\n    '$defs': undefined,\n    binaryProperties: { note: {} },\n    metadata: Metadata { blockHeight: 526, coreChainLockedHeight: 542795 }\n  },\n  entropy: undefined,\n  protocolVersion: 0,\n  id: Identifier(32) [Uint8Array] [\n     79,  93, 213, 226,  76,  79, 205, 191,\n    165, 190,  68,  28,   8,  83,  61, 226,\n    222, 248,  48, 235, 147, 110, 181, 229,\n      7,  66,  65, 230, 100, 194, 192, 156\n  ],\n  type: 'note',\n  dataContractId: Identifier(32) [Uint8Array] [\n     40,  93, 196, 112,  38, 188,  51, 122,\n    149,  59,  21,  39, 147, 119,  87,  53,\n    236,  60,  97,  42,  31,  82, 135, 120,\n     68, 188,  55, 153, 226, 198, 181, 139\n  ],\n  ownerId: Identifier(32) [Uint8Array] [\n    166, 222,  98,  87, 193,  19,  82,  37,\n     50, 118, 210,  64, 103, 122,  28, 155,\n    168,  21, 198, 134, 142, 151, 153, 136,\n     46,  64, 223,  74, 215, 153, 158, 167\n  ],\n  revision: 1,\n  data: { message: 'Tutorial CI Test @ Fri, 23 Jul 2021 13:12:13 GMT' },\n  metadata: Metadata { blockHeight: 526, coreChainLockedHeight: 542795 }\n}\n```\n\n# What's happening\n\nAfter we initialize the Client, we request some documents. The `client.platform.documents.get` method takes two arguments: a record locator and a query object. The records locator consists of an app name (e.g. `tutorialContract`) and the top-level document type requested, (e.g. `note`).\n\n> \ud83d\udcd8 DPNS Contract\n> \n> Note: Access to the DPNS contract is built into the Dash SDK. DPNS documents may be accessed via the `dpns` app name (e.g. `dpns.domain`).\n\nIf you need more than the first 100 documents, you'll have to make additional requests with `startAt` incremented by 100 each time. In the future, the Dash SDK may return documents with paging information to make this easier and reveal how many documents are returned in total."
}